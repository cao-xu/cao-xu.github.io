<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CaoXu&#39;s Blog</title>
  
  <subtitle>æƒ³æ³•ã€åˆ›æ„ä¸å®è·µ</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.caoxu.club/"/>
  <updated>2019-11-07T12:46:14.138Z</updated>
  <id>http://www.caoxu.club/</id>
  
  <author>
    <name>CaoXu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Rè¯­è¨€|é€»è¾‘å›å½’æ¨¡å‹å»ºæ¨¡æ¡ˆä¾‹ï¼ˆäº¤é€šäº‹æ•…é¢„æµ‹ï¼‰</title>
    <link href="http://www.caoxu.club/2019/11/07/%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/"/>
    <id>http://www.caoxu.club/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/</id>
    <published>2019-11-07T02:35:20.000Z</published>
    <updated>2019-11-07T12:46:14.138Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><p><em>æ‰€æœ‰çš„æ¨¡å‹éƒ½æ˜¯é”™çš„ï¼Œä½†æ˜¯æœ‰ç”¨ <span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f31f.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f31f.png?v8">ğŸŒŸ</span></em></p></blockquote><img title="æ‹ŸåˆROC" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/æ‹ŸåˆROC.png"><p>æœ¬ä»‹ç»å¦‚ä½•å»ºç«‹é€»è¾‘å›å½’æ¨¡å‹è¿›è¡Œäº¤é€šäº‹æ•…é¢„æµ‹ï¼Œå¹¶éªŒè¯äº†æ¨¡å‹çš„å‡†ç¡®åº¦ã€‚<br><a id="more"></a></p><div class="note default">            <h2 id="ä¸€ã€é—®é¢˜æè¿°ä¸æ•°æ®å‡†å¤‡"><a href="#ä¸€ã€é—®é¢˜æè¿°ä¸æ•°æ®å‡†å¤‡" class="headerlink" title="ä¸€ã€é—®é¢˜æè¿°ä¸æ•°æ®å‡†å¤‡"></a>ä¸€ã€é—®é¢˜æè¿°ä¸æ•°æ®å‡†å¤‡</h2>          </div><h3 id="1-1-é—®é¢˜æè¿°"><a href="#1-1-é—®é¢˜æè¿°" class="headerlink" title="1.1 é—®é¢˜æè¿°"></a>1.1 é—®é¢˜æè¿°</h3><p>â€ƒâ€ƒåŸºäºäº¤é€šäº‹æ•…ç›¸å…³æ•°æ®ï¼Œå»ºç«‹é€»è¾‘å›å½’æ¨¡å‹ï¼Œå¹¶å°½å¯èƒ½ä½¿æ¨¡å‹çš„é¢„æµ‹å‡†ç¡®åº¦è¾¾åˆ°æœ€é«˜ã€‚<br>â€ƒâ€ƒä½¿ç”¨äº¤é€šäº‹æ•…å‘ç”Ÿå‰çš„è½¦è¾†é€Ÿåº¦å˜åŒ–å€¼ã€é“è·¯æµé‡çš„å˜åŒ–å€¼å’Œå¤©æ°”çš„ç±»å‹ï¼ˆä¸‹é›¨/æ™´å¤©ï¼‰ï¼Œå»ºç«‹å›å½’æ¨¡å‹å¯¹æ˜¯å¦å‘ç”Ÿäº¤é€šäº‹æ•…ï¼ˆäº‹æ•…/éäº‹æ•…ï¼‰è¿›è¡Œé¢„æµ‹ã€‚</p><h3 id="1-2-æ•°æ®å¯¼å…¥ä¸ç±»å‹è½¬æ¢"><a href="#1-2-æ•°æ®å¯¼å…¥ä¸ç±»å‹è½¬æ¢" class="headerlink" title="1.2 æ•°æ®å¯¼å…¥ä¸ç±»å‹è½¬æ¢"></a>1.2 æ•°æ®å¯¼å…¥ä¸ç±»å‹è½¬æ¢</h3><h4 id="1-2-1-æ•°æ®è¯»å–"><a href="#1-2-1-æ•°æ®è¯»å–" class="headerlink" title="1.2.1 æ•°æ®è¯»å–"></a>1.2.1 æ•°æ®è¯»å–</h4><p>åŸå§‹æ•°æ®å¯é€šè¿‡ç™¾åº¦ç½‘ç›˜ä¸‹è½½ï¼š<span class="exturl" data-url="aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMXRlVk1pWU9hYUhqRVhsRFg1MjBNY3cg" title="https://pan.baidu.com/s/1teVMiYOaaHjEXlDX520Mcw "><i class="fa fa-download fa-fw"></i>æ•°æ®ä¸‹è½½<i class="fa fa-external-link"></i></span></p><p>ä½¿ç”¨<code>read.csvï¼ˆï¼‰</code>å‡½æ•°è¯»å–CSVæ ¼å¼æ•°æ®</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">SourceData &lt;- read.csv(<span class="string">"C:/Users/Fred/R_project/GLM_dataModel/data 1.csv"</span>)</span><br></pre></td></tr></tbody></table></figure><h4 id="1-2-2-æ•°æ®ç±»å‹è½¬åŒ–"><a href="#1-2-2-æ•°æ®ç±»å‹è½¬åŒ–" class="headerlink" title="1.2.2 æ•°æ®ç±»å‹è½¬åŒ–"></a>1.2.2 æ•°æ®ç±»å‹è½¬åŒ–</h4><p>åŸå§‹æ•°æ®ç±»å‹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼Œéœ€è¦å°†<code>case</code>å’Œ<code>weather</code>å‡è½¬æ¢ä¸ºæ— åºå› å­å‹çš„æ•°æ®ã€‚</p><center>è¡¨1-1  åŸå§‹æ•°æ®åˆ†æ</center><div class="table-container"><table><thead><tr><th><center>å˜é‡å</center></th><th><center>æ•°æ®ç±»å‹</center></th><th><center>å˜é‡æè¿°</center></th></tr></thead><tbody><tr><td><center>case</center></td><td><center>int</center></td><td><center>æ˜¯å¦å‘ç”Ÿäº‹æ•…ï¼Œ1ï¼šäº‹æ•…ï¼Œ0ï¼šéäº‹æ•…</center></td></tr><tr><td><center>spd_dif_1min</center></td><td><center> Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰0-1åˆ†é’Ÿå†…çš„é€Ÿåº¦å˜åŒ–å€¼</center></td></tr><tr><td><center>spd_dif_2min</center></td><td><center> Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰1-2åˆ†é’Ÿå†…çš„é€Ÿåº¦å˜åŒ–å€¼</center></td></tr><tr><td><center>spd_dif_3min</center></td><td><center> Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰2-3åˆ†é’Ÿå†…çš„é€Ÿåº¦å˜åŒ–å€¼</center></td></tr><tr><td><center>spd_dif_4min</center></td><td><center>Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰3-4åˆ†é’Ÿå†…çš„é€Ÿåº¦å˜åŒ–å€¼</center></td></tr><tr><td><center>vol_dif_1min</center></td><td><center>Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰0-1åˆ†é’Ÿå†…çš„æµé‡å˜åŒ–å€¼</center></td></tr><tr><td><center>vol_dif_2min</center></td><td><center>Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰1-2åˆ†é’Ÿå†…çš„æµé‡å˜åŒ–å€¼</center></td></tr><tr><td><center>vol_dif_3min</center></td><td><center> Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰2-3åˆ†é’Ÿå†…çš„æµé‡å˜åŒ–å€¼</center></td></tr><tr><td><center>vol_dif_4min</center></td><td><center> Num</center></td><td><center>äº‹æ•…å‘ç”Ÿå‰3-4åˆ†é’Ÿå†…çš„æµé‡å˜åŒ–å€¼</center></td></tr><tr><td><center>Weather</center></td><td><center>int</center></td><td><center>1ï¼ˆä¸‹é›¨ï¼‰ï¼Œ0ï¼ˆæ™´å¤©ï¼‰</center></td></tr></tbody></table></div><p>ä½¿ç”¨<code>factorï¼ˆï¼‰</code>å‡½æ•°å®ç°ç±»å‹è½¬æ¢ï¼Œä»£ç å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">## å°†caseã€weatherè½¬æ¢ä¸ºå› å­å‹å˜é‡ï¼Œè¡¨ç¤ºç±»å‹</span></span><br><span class="line">nonNA_Data$case &lt;- factor(nonNA_Data$case,levels = c(<span class="number">0</span>,<span class="number">1</span>),labels = c(<span class="string">"éäº‹æ•…"</span>,<span class="string">"äº‹æ•…"</span>))</span><br><span class="line">nonNA_Data$Weather &lt;- factor(nonNA_Data$Weather,levels = c(<span class="number">0</span>,<span class="number">1</span>),labels = c(<span class="string">"æ™´å¤©"</span>,<span class="string">"ä¸‹é›¨"</span>))</span><br></pre></td></tr></tbody></table></figure><div class="note default">            <h2 id="äºŒã€æ•°æ®é¢„å¤„ç†"><a href="#äºŒã€æ•°æ®é¢„å¤„ç†" class="headerlink" title="äºŒã€æ•°æ®é¢„å¤„ç†"></a>äºŒã€æ•°æ®é¢„å¤„ç†</h2>          </div><h3 id="2-1-ç»Ÿè®¡å†—ä½™æ•°æ®"><a href="#2-1-ç»Ÿè®¡å†—ä½™æ•°æ®" class="headerlink" title="2.1 ç»Ÿè®¡å†—ä½™æ•°æ®"></a>2.1 ç»Ÿè®¡å†—ä½™æ•°æ®</h3><p>é¦–å…ˆæ£€æŸ¥æ˜¯å¦å«æœ‰å†—ä½™æ•°æ®ï¼Œä½¿ç”¨<code>duplicatedï¼ˆï¼‰</code>å‡½æ•°å¯¹åŸå§‹æ•°æ®è¿›è¡Œåˆ¤æ–­ï¼Œæ£€æŸ¥å‘ç°æ— é‡å¤æ•°æ®ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">##å†—ä½™æ•°æ®å¤„ç†</span></span><br><span class="line">duplicated_count &lt;- sum(duplicated(SourceData))<span class="comment"># ç»“æœæ— é‡å¤æ•°æ®</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-2-ç¼ºå¤±å€¼åˆ†æåŠå¤„ç†"><a href="#2-2-ç¼ºå¤±å€¼åˆ†æåŠå¤„ç†" class="headerlink" title="2.2 ç¼ºå¤±å€¼åˆ†æåŠå¤„ç†"></a>2.2 ç¼ºå¤±å€¼åˆ†æåŠå¤„ç†</h3><h4 id="2-2-1-ç¼ºå¤±å€¼åˆ†æ"><a href="#2-2-1-ç¼ºå¤±å€¼åˆ†æ" class="headerlink" title="2.2.1 ç¼ºå¤±å€¼åˆ†æ"></a>2.2.1 ç¼ºå¤±å€¼åˆ†æ</h4><p>åœ¨å¾—åˆ°æ•°æ®é›†åï¼Œæˆ‘ä»¬éœ€è¦è§‚å¯Ÿæ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼Œå› ä¸ºå¾ˆå¤šçš„æ¨¡å‹å¯¹ç¼ºå¤±å€¼æ•æ„Ÿï¼Œå› æ­¤è§‚å¯Ÿæ˜¯å¦æœ‰ç¼ºå¤±å€¼æ˜¯å…¶ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæ­¥éª¤ã€‚åœ¨æ­£å¼åˆ†æå‰ï¼Œæˆ‘ä»¬å…ˆé€šè¿‡å›¾å½¢è¿›è¡Œå¯¹è§‚æµ‹å­—æ®µçš„ç¼ºå¤±æƒ…å†µæœ‰ä¸€ä¸ªç›´è§‚çš„æ„Ÿå—ã€‚</p><p>â€ƒâ€ƒä½¿ç”¨<strong>VIM</strong>åŒ…ä¸­çš„<code>aggrï¼ˆï¼‰</code>å‡½æ•°å¯¹ç¼ºå¤±å€¼è¿›è¡Œå›¾å½¢æ¢ç©¶ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(<span class="string">"VIM"</span>)</span><br><span class="line">aggr(SourceData,prop=<span class="literal">FALSE</span>,numbers = <span class="literal">TRUE</span>)</span><br></pre></td></tr></tbody></table></figure><img title="aggr()ç”Ÿæˆçš„åŸå§‹æ•°æ®é›†çš„ç¼ºå¤±å€¼æ¨¡å¼å›¾å½¢" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/å›¾2-1%20%20aggr()ç”Ÿæˆçš„åŸå§‹æ•°æ®é›†çš„ç¼ºå¤±å€¼æ¨¡å¼å›¾å½¢.png"><center>å›¾2-1  aggr()ç”Ÿæˆçš„åŸå§‹æ•°æ®é›†çš„ç¼ºå¤±å€¼æ¨¡å¼å›¾å½¢</center><p><code>aggr()</code>å‡½æ•°ä¸ä»…ç»˜åˆ¶æ¯ä¸ªå˜é‡çš„ç¼ºå¤±å€¼æ•°ï¼Œè¿˜ç»˜åˆ¶æ¯ä¸ªå˜é‡ç»„åˆçš„ç¼ºå¤±å€¼æ•°ã€‚çº¢è‰²è¡¨ç¤ºç¼ºå¤±ï¼Œä¸å«ç¼ºå¤±å€¼çš„å®ä¾‹æœ‰759ä¸ªï¼Œæœ‰ç¼ºå¤±å€¼çš„å®ä¾‹36ä¸ªï¼›å¯ä»¥çœ‹å‡ºå‰4åˆ†é’Ÿçš„é€Ÿåº¦å˜åŒ–å€¼ç¼ºå¤±å€¼æœ€å¤šæœ‰11ä¸ªã€‚</p><p>ä½¿ç”¨<code>matrixplot()</code>å‡½æ•°å¯ä»¥ç”Ÿæˆæ¯ä¸ªå®ä¾‹æ•°æ®çš„å›¾å½¢ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">matrixplot(SourceData)</span><br></pre></td></tr></tbody></table></figure><img title="å›¾2-2  åŸå§‹æ•°æ®é›†æŒ‰å®ä¾‹ï¼ˆè¡Œï¼‰å±•ç¤ºçœŸå®å€¼å’Œç¼ºå¤±å€¼çš„çŸ©é˜µå›¾" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/å›¾2-2%20%20åŸå§‹æ•°æ®é›†æŒ‰å®ä¾‹ï¼ˆè¡Œï¼‰å±•ç¤ºçœŸå®å€¼å’Œç¼ºå¤±å€¼çš„çŸ©é˜µå›¾.png"><center>å›¾2-2  åŸå§‹æ•°æ®é›†æŒ‰å®ä¾‹ï¼ˆè¡Œï¼‰å±•ç¤ºçœŸå®å€¼å’Œç¼ºå¤±å€¼çš„çŸ©é˜µå›¾</center><p>æ­¤å¤„ï¼Œæ•°å€¼å‹æ•°æ®è¢«é‡æ–°è½¬æ¢åˆ°[0, 1]åŒºé—´ï¼Œå¹¶ç”¨ç°åº¦æ¥è¡¨ç¤ºå¤§å°ï¼šæµ…è‰²è¡¨ç¤ºå€¼å°ï¼Œæ·±è‰²è¡¨ç¤ºå€¼å¤§ã€‚é»˜è®¤ç¼ºå¤±å€¼ä¸ºçº¢è‰²</p><h4 id="2-2-2-ç¼ºå¤±å€¼æ’è¡¥"><a href="#2-2-2-ç¼ºå¤±å€¼æ’è¡¥" class="headerlink" title="2.2.2 ç¼ºå¤±å€¼æ’è¡¥"></a>2.2.2 ç¼ºå¤±å€¼æ’è¡¥</h4><p>å¯¹äºç¼ºå¤±å€¼çš„å¤„ç†æ–¹æ³•éå¸¸å¤šï¼Œä¾‹å¦‚åŸºäºèšç±»çš„æ–¹æ³•ï¼ŒåŸºäºå›å½’çš„æ–¹æ³•ï¼ŒåŸºäºå‡å€¼çš„æ–¹æ³•ï¼Œå…¶ä¸­æœ€ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥ç§»é™¤ï¼Œä½†æ˜¯åœ¨æœ¬æ–‡ä¸­å› ä¸ºç¼ºå¤±å€¼æ‰€å æ¯”ä¾‹è¾ƒé«˜ï¼Œç›´æ¥ç§»é™¤ä¼šæŸå¤±å¤§é‡è§‚æµ‹ï¼Œå› æ­¤å¹¶ä¸æ˜¯æœ€åˆé€‚çš„æ–¹æ³•ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨<code>KNNæ–¹æ³•</code>å¯¹ç¼ºå¤±å€¼è¿›è¡Œå¡«è¡¥ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">### åˆ é™¤ï¼ˆå¼‚å¸¸å€¼ï¼‰caseä¸ºç©ºçš„è®°å½•</span></span><br><span class="line">nonNA_Data &lt;- SourceData[-which(is.na(SourceData$case)),]</span><br><span class="line">    <span class="comment">### ä½¿ç”¨kNNæ–¹æ³•å¯¹ç¼ºå¤±å€¼å¡«è¡¥</span></span><br><span class="line">nonNA_Data &lt;- knnImputation(nonNA_Data,k=<span class="number">10</span>,meth = <span class="string">"weighAvg"</span>)</span><br></pre></td></tr></tbody></table></figure><h3 id="2-3-å¼‚å¸¸å€¼åˆ†æåŠå¤„ç†"><a href="#2-3-å¼‚å¸¸å€¼åˆ†æåŠå¤„ç†" class="headerlink" title="2.3 å¼‚å¸¸å€¼åˆ†æåŠå¤„ç†"></a>2.3 å¼‚å¸¸å€¼åˆ†æåŠå¤„ç†</h3><p>ä½¿ç”¨ç®±å‹å›¾å¯¹å„ä¸ªå•å› ç´ å˜é‡è¿›è¡Œå¼‚å¸¸å€¼çš„åˆ†æï¼Œç»“æœå¦‚ä¸‹ï¼Œå‘ç°å¹¶æ— æ˜æ˜¾çš„å¼‚å¸¸å€¼ã€‚</p><img title="å›¾2-3  å¼‚å¸¸å€¼åˆ†æ" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/å›¾2-3%20%20å¼‚å¸¸å€¼åˆ†æ.png"><center>å›¾2-3  å¼‚å¸¸å€¼åˆ†æ</center><div class="note default">            <h2 id="ä¸‰ã€å˜é‡åˆ†æ"><a href="#ä¸‰ã€å˜é‡åˆ†æ" class="headerlink" title="ä¸‰ã€å˜é‡åˆ†æ"></a>ä¸‰ã€å˜é‡åˆ†æ</h2>          </div><h3 id="3-1-å•å˜é‡åˆ†æ"><a href="#3-1-å•å˜é‡åˆ†æ" class="headerlink" title="3.1 å•å˜é‡åˆ†æ"></a>3.1 å•å˜é‡åˆ†æ</h3><p>ä¸»è¦åˆ†æå„ä¸ªå˜é‡çš„åˆ†å¸ƒï¼Œä½¿ç”¨<code>ggplot2</code>åŒ…ä¸­çš„<code>ggplotï¼ˆï¼‰</code>å‡½æ•°ç»˜åˆ¶å„å˜é‡çš„åˆ†å¸ƒç»Ÿè®¡å›¾å¦‚ä¸‹å›¾ã€‚ä¸ºäº†ç®€æ´ï¼Œåªå±•ç¤ºä¸¤ä¸ªå˜é‡ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(ggplot2)</span><br><span class="line">opar &lt;- par(no.readonly = <span class="literal">TRUE</span>)</span><br><span class="line">par(mfrow = c(<span class="number">2</span>,<span class="number">4</span>))</span><br><span class="line">ggplot(df.train, aes(x = spd_dif_1min, y = ..density..)) + geom_histogram(fill = <span class="string">"blue"</span>, colour = <span class="string">"grey60"</span>, size = <span class="number">0.2</span>, alpha = <span class="number">0.2</span>) + geom_density()</span><br><span class="line">ggplot(df.train, aes(x = spd_dif_2min, y = ..density..)) + geom_histogram(fill = <span class="string">"blue"</span>, colour = <span class="string">"grey60"</span>, size = <span class="number">0.2</span>, alpha = <span class="number">0.2</span>) + geom_density()</span><br></pre></td></tr></tbody></table></figure><img title="å›¾3-1  å˜é‡åˆ†å¸ƒç»Ÿè®¡å›¾1" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/å›¾3-1%20%20å˜é‡åˆ†å¸ƒç»Ÿè®¡å›¾1.png"><img title="å›¾3-1  å˜é‡åˆ†å¸ƒç»Ÿè®¡å›¾2" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/å›¾3-1%20%20å˜é‡åˆ†å¸ƒç»Ÿè®¡å›¾2.png"><center>å›¾3-1  å˜é‡åˆ†å¸ƒç»Ÿè®¡å›¾</center><p>å¯ä»¥çœ‹å‡ºï¼Œå„ä¸ªå˜é‡çš„åˆ†å¸ƒå¤§è‡´å‘ˆè´ŸæŒ‡æ•°åˆ†å¸ƒã€‚</p><h3 id="3-2-å¤šå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§åˆ†æ"><a href="#3-2-å¤šå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§åˆ†æ" class="headerlink" title="3.2 å¤šå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§åˆ†æ"></a>3.2 å¤šå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§åˆ†æ</h3><p>å»ºæ¨¡ä¹‹å‰é¦–å…ˆå¾—æ£€éªŒå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œå¦‚æœå˜é‡ä¹‹é—´ç›¸å…³æ€§æ˜¾è‘—ï¼Œä¼šå½±å“æ¨¡å‹çš„é¢„æµ‹æ•ˆæœã€‚ä¸‹é¢é€šè¿‡<code>corrplot</code>å‡½æ•°ï¼Œç”»å‡ºå„å˜é‡ä¹‹é—´ï¼ŒåŒ…æ‹¬å“åº”å˜é‡ä¸è‡ªå˜é‡çš„ç›¸å…³æ€§ã€‚ç”±ä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼Œå„å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§æ˜¯éå¸¸å°çš„ã€‚</p><img title="å›¾3-2  å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§åˆ†æ" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/å›¾3-2%20%20å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§åˆ†æ.png"><center>å›¾3-2  å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§åˆ†æ</center><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(corrplot)</span><br><span class="line">cor1&lt;-cor(nonNA_Data[,<span class="number">2</span>:<span class="number">9</span>])</span><br><span class="line">corrplot(cor1,method = <span class="string">"number"</span>)</span><br></pre></td></tr></tbody></table></figure><div class="note default">            <h2 id="å››ã€Logisticå›å½’å»ºæ¨¡"><a href="#å››ã€Logisticå›å½’å»ºæ¨¡" class="headerlink" title="å››ã€Logisticå›å½’å»ºæ¨¡"></a>å››ã€Logisticå›å½’å»ºæ¨¡</h2>          </div><h3 id="4-1-æ•°æ®é›†åˆ†å‰²"><a href="#4-1-æ•°æ®é›†åˆ†å‰²" class="headerlink" title="4.1 æ•°æ®é›†åˆ†å‰²"></a>4.1 æ•°æ®é›†åˆ†å‰²</h3><p>å°†æ ·æœ¬åˆ†ä¸ºæŒ‰ç…§æ¨¡å‹æ ‡å®šï¼šæ¨¡å‹æ ¡éªŒ=7:3çš„æ¯”ä¾‹åˆ’åˆ†ã€‚<code>nrowï¼ˆxï¼‰</code>è¿”å›xå¯¹è±¡çš„åºå·ï¼Œ<code>Sampleï¼ˆï¼‰</code>å‡½æ•°éšæœºæŠ½å–70%çš„åºå·ï¼Œç”±æ­¤å®Œæˆæ•°æ®åˆ†å‰²ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">train &lt;- sample(nrow(nonNA_Data), <span class="number">0.7</span>*nrow(nonNA_Data))</span><br><span class="line">  <span class="comment">## è¡¨ç¤ºä»æ•°æ®é›†ä¸­éšæœºæŠ½å–70%çš„æ•°æ®çš„åºå·</span></span><br><span class="line">df.train &lt;- nonNA_Data[train,]</span><br><span class="line">df.validate &lt;- nonNA_Data[-train,]</span><br></pre></td></tr></tbody></table></figure><h3 id="4-2-å»ºç«‹æ¨¡å‹"><a href="#4-2-å»ºç«‹æ¨¡å‹" class="headerlink" title="4.2 å»ºç«‹æ¨¡å‹"></a>4.2 å»ºç«‹æ¨¡å‹</h3><p>é¦–å…ˆå°†æ‰€æœ‰è‡ªå˜é‡éƒ½è€ƒè™‘æ”¾å…¥æ¨¡å‹ä¸­ï¼Œè¿›è¡ŒLogisticå›å½’å»ºæ¨¡ï¼Œæ¨¡å‹å¦‚ä¸‹ã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">fit.full &lt;- glm(case~spd_dif_1min + spd_dif_2min + spd_dif_3min + spd_dif_4m</span><br><span class="line"><span class="keyword">in</span> + vol_dif_1min + vol_dif_2min + vol_dif_3min + vol_dif_4min + Weather, da</span><br><span class="line">ta = df.train, family = binomial(link = <span class="string">'logit'</span>))</span><br><span class="line"> summary(fit.full)</span><br><span class="line"> <span class="comment">## Call:</span></span><br><span class="line"> <span class="comment">## glm(formula = case ~ spd_dif_1min + spd_dif_2min + spd_dif_3min +</span></span><br><span class="line"> <span class="comment">## spd_dif_4min + vol_dif_1min + vol_dif_2min + vol_dif_3min +</span></span><br><span class="line"> <span class="comment">## vol_dif_4min + Weather, family = binomial(link = "logit"),</span></span><br><span class="line"> <span class="comment">## data = df.train)</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Deviance Residuals:</span></span><br><span class="line"> <span class="comment">## Min 1Q Median 3Q Max</span></span><br><span class="line"> <span class="comment">## -1.6603 -0.6247 -0.4932 -0.4031 2.2398</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Coefficients:</span></span><br><span class="line"> <span class="comment">## Estimate Std. Error z value Pr(&gt;|z|)</span></span><br><span class="line"> <span class="comment">## (Intercept) -2.93342 0.27208 -10.781 &lt; 2e-16 ***</span></span><br><span class="line"> <span class="comment">## spd_dif_1min 0.13201 0.03045 4.335 1.46e-05 ***</span></span><br><span class="line"> <span class="comment">## spd_dif_2min 0.02350 0.04661 0.504 0.6141</span></span><br><span class="line"> <span class="comment">## spd_dif_3min 0.06076 0.04150 1.464 0.1431</span></span><br><span class="line"> <span class="comment">## spd_dif_4min 0.09812 0.04155 2.361 0.0182 *</span></span><br><span class="line"> <span class="comment">## vol_dif_1min 0.02697 0.01127 2.394 0.0167 *</span></span><br><span class="line"> <span class="comment">## vol_dif_2min 0.02265 0.01301 1.742 0.0815 .</span></span><br><span class="line"> <span class="comment">## vol_dif_3min 0.01161 0.01170 0.993 0.3209</span></span><br><span class="line"> <span class="comment">## vol_dif_4min 0.01010 0.01142 0.884 0.3767</span></span><br><span class="line"> <span class="comment">## Weather ä¸‹é›¨ 0.15360 0.37075 0.414 0.6787</span></span><br><span class="line"> <span class="comment">## ---</span></span><br><span class="line"> <span class="comment">## Signif. codes: 0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## (Dispersion parameter for binomial family taken to be 1)</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Null deviance: 544.17 on 554 degrees of freedom</span></span><br><span class="line"> <span class="comment">## Residual deviance: 487.01 on 545 degrees of freedom</span></span><br><span class="line"> <span class="comment">## AIC: 507.01</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Number of Fisher Scoring iterations: 4</span></span><br></pre></td></tr></tbody></table></figure><p>ä»<code>summaryï¼ˆï¼‰</code>è¿”å›çš„ç»“æœçœ‹å‡ºï¼Œè‡ªå˜é‡<code>spd_dif_1min</code>ã€<code>spd_dif_4min</code>å’Œ<code>vol_dif_1min</code>å¯¹æ–¹ç¨‹çš„è´¡çŒ®åº¦è¾ƒä¸ºæ˜¾è‘—ï¼Œè€Œå…¶ä»–å˜é‡å¯¹æ–¹ç¨‹çš„è´¡çŒ®åº¦ä¸æ˜¾è‘—ï¼Œå»é™¤è¿™äº›å˜é‡ï¼Œæ£€éªŒæ–°æ¨¡å‹æ˜¯å¦æ‹Ÿåˆå¾—å¥½ï¼š</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">fit.reduced &lt;- glm(case ~ spd_dif_1min + spd_dif_4min + vol_dif_1min, data =</span><br><span class="line">df.train, family = binomial(link = <span class="string">'logit'</span>))</span><br><span class="line"> summary(fit.reduced)</span><br><span class="line"></span><br><span class="line"> <span class="comment">## Call:</span></span><br><span class="line"> <span class="comment">## glm(formula = case ~ spd_dif_1min + spd_dif_4min + vol_dif_1min,</span></span><br><span class="line"> <span class="comment">## family = binomial(link = "logit"), data = df.train)</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Deviance Residuals:</span></span><br><span class="line"> <span class="comment">## Min 1Q Median 3Q Max</span></span><br><span class="line"> <span class="comment">## -1.8244 -0.6018 -0.5241 -0.4484 2.1127</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Coefficients:</span></span><br><span class="line"> <span class="comment">## Estimate Std. Error z value Pr(&gt;|z|)</span></span><br><span class="line"> <span class="comment">## (Intercept) -2.44831 0.20239 -12.097 &lt; 2e-16 ***</span></span><br><span class="line"> <span class="comment">## spd_dif_1min 0.13722 0.02938 4.670 3.01e-06 ***</span></span><br><span class="line"> <span class="comment">## spd_dif_4min 0.12250 0.03863 3.171 0.00152 **</span></span><br><span class="line"> <span class="comment">## vol_dif_1min 0.03197 0.01114 2.871 0.00410 **</span></span><br><span class="line"> <span class="comment">## ---</span></span><br><span class="line"> <span class="comment">## Signif. codes: 0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## (Dispersion parameter for binomial family taken to be 1)</span></span><br><span class="line"> <span class="comment">## Null deviance: 544.17 on 554 degrees of freedom</span></span><br><span class="line"> <span class="comment">## Residual deviance: 496.79 on 551 degrees of freedom</span></span><br><span class="line"> <span class="comment">## AIC: 504.79</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Number of Fisher Scoring iterations: 4</span></span><br></pre></td></tr></tbody></table></figure><p>æ–°æ¨¡å‹çš„æ¯ä¸ªå›å½’ç³»æ•°éƒ½éå¸¸æ˜¾è‘—ï¼ˆ<strong>p&lt;0.05</strong>ï¼‰ã€‚ç”±äºä¸¤æ¨¡å‹åµŒå¥—ï¼ˆ<code>fit.reduced</code>æ˜¯<code>fit.full</code>çš„ä¸€ä¸ªå­é›†ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨<code>anova()</code>å‡½æ•°å¯¹å®ƒä»¬è¿›è¡Œæ¯”è¾ƒï¼Œå¯¹äºå¹¿ä¹‰çº¿æ€§å›å½’ï¼Œå¯ç”¨å¡æ–¹æ£€éªŒã€‚</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">anova(fit.reduced, fit.full, test = <span class="string">"Chisq"</span>)</span><br><span class="line"> <span class="comment">## Analysis of Deviance Table</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">## Model 1: case ~ spd_dif_1min + spd_dif_4min + vol_dif_1min</span></span><br><span class="line"> <span class="comment">## Model 2: case ~ spd_dif_1min + spd_dif_2min + spd_dif_3min + spd_dif_4min+</span></span><br><span class="line"> <span class="comment">## vol_dif_1min + vol_dif_2min + vol_dif_3min + vol_dif_4min +</span></span><br><span class="line"> <span class="comment">## Weather</span></span><br><span class="line"> <span class="comment">## Resid. Df Resid. Dev Df Deviance Pr(&gt;Chi)</span></span><br><span class="line"> <span class="comment">## 1 551 496.79</span></span><br><span class="line"> <span class="comment">## 2 545 487.01 6 9.7794 0.1343</span></span><br></pre></td></tr></tbody></table></figure><p>ç»“æœçš„å¡æ–¹å€¼ä¸æ˜¾è‘—ï¼ˆ<strong>p=0.1343</strong>ï¼‰ï¼Œ<strong>è¡¨æ˜ä¸‰ä¸ªé¢„æµ‹å˜é‡çš„æ–°æ¨¡å‹ä¸ä¹ä¸ªå®Œæ•´é¢„æµ‹å˜é‡çš„æ¨¡å‹æ‹Ÿåˆç¨‹åº¦ä¸€æ ·å¥½</strong>ã€‚æ·»åŠ å…¶ä»–6ä¸ªå˜é‡ä¸ä¼šæ˜¾è‘—æé«˜æ–¹ç¨‹çš„é¢„æµ‹ç²¾åº¦ï¼Œå› æ­¤å¯ä»¥ä¾æ®æ›´ç®€å•çš„æ¨¡å‹è¿›è¡Œè§£é‡Šã€‚</p><p>è§£é‡Šæ¨¡å‹å‚æ•°ï¼š</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exp(coef(fit.reduced))</span><br><span class="line"><span class="comment">## (Intercept) spd_dif_1min spd_dif_4min vol_dif_1min</span></span><br><span class="line"><span class="comment">## 0.08643927 1.14708542 1.13031911 1.03248943</span></span><br></pre></td></tr></tbody></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œ1minå†…é€Ÿåº¦çš„å˜åŒ–é‡å¢åŠ 1ä¸ªå•ä½ï¼Œäº‹æ•…å‘ç”Ÿçš„ä¼˜åŠ¿å°†ä¹˜ä»¥1.14708542ï¼ŒåŒç†1miné€Ÿåº¦ã€2minæµé‡çš„å˜åŒ–é‡å¢åŠ ä¸€ä¸ªå•ä½ï¼Œäº‹æ•…å‘ç”Ÿçš„ä¼˜åŠ¿å°†ä¹˜ä»¥1.13031911ã€1.03248943ã€‚</p><h3 id="4-3-åˆ¤å®šæ ‡å®šæ¨¡å‹çš„æ‹Ÿåˆä¼˜åº¦"><a href="#4-3-åˆ¤å®šæ ‡å®šæ¨¡å‹çš„æ‹Ÿåˆä¼˜åº¦" class="headerlink" title="4.3 åˆ¤å®šæ ‡å®šæ¨¡å‹çš„æ‹Ÿåˆä¼˜åº¦"></a>4.3 åˆ¤å®šæ ‡å®šæ¨¡å‹çš„æ‹Ÿåˆä¼˜åº¦</h3><p>â€ƒâ€ƒé€šå¸¸ä¸€ä¸ªäºŒå€¼åˆ†ç±»å™¨å¯ä»¥é€šè¿‡ROCï¼ˆReceiver Operating Characteristicï¼‰æ›²çº¿å’ŒAUCå€¼æ¥è¯„ä»·ä¼˜åŠ£ã€‚</p><p>â€ƒâ€ƒå¾ˆå¤šäºŒå…ƒåˆ†ç±»å™¨ä¼šäº§ç”Ÿä¸€ä¸ªæ¦‚ç‡é¢„æµ‹å€¼ï¼Œè€Œéä»…ä»…æ˜¯0-1é¢„æµ‹å€¼ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æŸä¸ªé˜ˆå€¼ï¼ˆä¾‹å¦‚0.5ï¼‰ï¼Œä»¥åˆ’åˆ†å“ªäº›é¢„æµ‹ä¸º1ï¼Œå“ªäº›é¢„æµ‹ä¸º0ã€‚å¾—åˆ°äºŒå…ƒé¢„æµ‹å€¼åï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªæ··æ·†çŸ©é˜µæ¥è¯„ä»·äºŒå…ƒåˆ†ç±»å™¨çš„é¢„æµ‹æ•ˆæœã€‚æ‰€æœ‰çš„è®­ç»ƒæ•°æ®éƒ½ä¼šè½å…¥è¿™ä¸ªçŸ©é˜µä¸­ï¼Œè€Œå¯¹è§’çº¿ä¸Šçš„æ•°å­—ä»£è¡¨äº†é¢„æµ‹æ­£ç¡®çš„æ•°ç›®ï¼Œå³true positive + true negativeã€‚åŒæ—¶å¯ä»¥ç›¸åº”ç®—å‡ºTPRï¼ˆçœŸæ­£ç‡æˆ–ç§°ä¸ºæ•æ„Ÿåº¦ï¼‰å’ŒTNRï¼ˆçœŸè´Ÿç‡æˆ–ç§°ä¸ºç‰¹å¼‚åº¦ï¼‰ã€‚æˆ‘ä»¬ä¸»è§‚ä¸Šå¸Œæœ›è¿™ä¸¤ä¸ªæŒ‡æ ‡è¶Šå¤§è¶Šå¥½ï¼Œä½†å¯æƒœäºŒè€…æ˜¯ä¸€ä¸ªæ­¤æ¶ˆå½¼æ¶¨çš„å…³ç³»ã€‚é™¤äº†åˆ†ç±»å™¨çš„è®­ç»ƒå‚æ•°ï¼Œé˜ˆå€¼çš„é€‰æ‹©ï¼Œä¹Ÿä¼šå¤§å¤§çš„å½±å“TPRå’ŒTNRã€‚æœ‰æ—¶å¯ä»¥æ ¹æ®å…·ä½“é—®é¢˜å’Œéœ€è¦ï¼Œæ¥é€‰æ‹©å…·ä½“çš„é˜ˆå€¼ã€‚</p><img title="TPRå’ŒTNR" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/TPRå’ŒTNR.png"><p>é¦–å…ˆä½¿ç”¨è®­ç»ƒæ•°æ®é›†ç”Ÿæˆæ¦‚ç‡é¢„æµ‹å€¼ï¼š</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(pROC)</span><br><span class="line"> pre &lt;- predict(fit.reduced,type=<span class="string">'response'</span>,df.train)</span><br></pre></td></tr></tbody></table></figure><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼š<code>type</code>ä¸€å®šè¦åŠ ï¼Œå¦åˆ™è®¡ç®—çš„æœ€ä¼˜é˜ˆå€¼ä¸ºè´Ÿæ•°</p><p>ä¸‹é¢ä½¿ç”¨<code>pROC</code>åŒ…è®¡ç®—<code>fit.reduced</code>æ¨¡å‹çš„æ‹Ÿåˆä¼˜åº¦ï¼š</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">modelroc &lt;- roc(df.train$case,pre)</span><br><span class="line">plot(modelroc, print.auc=<span class="literal">TRUE</span>, auc.polygon=<span class="literal">TRUE</span>, </span><br><span class="line">     grid=c(<span class="number">0.1</span>, <span class="number">0.2</span>), grid.col=c(<span class="string">"green"</span>, <span class="string">"red"</span>),</span><br><span class="line">     max.auc.polygon=<span class="literal">TRUE</span>,</span><br><span class="line">     auc.polygon.col=<span class="string">"skyblue"</span>, print.thres=<span class="literal">TRUE</span>)</span><br></pre></td></tr></tbody></table></figure><img title="å›¾4-1  æ‹Ÿåˆä¼˜åº¦ROC" data-src="/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/å›¾4-1%20%20æ‹Ÿåˆä¼˜åº¦ROC.png"><center>å›¾4-1  æ‹Ÿåˆä¼˜åº¦ROC</center><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºé˜ˆå€¼ä¸º<code>0.142</code>æ—¶ï¼Œå¯¹åº”çš„AUCï¼ˆArea Under Curveï¼‰å€¼ä¸º<code>0.762</code>å¤§äº0.7ï¼ŒåŒºåˆ†èƒ½åŠ›å¯ä»¥æ¥å—ï¼Œè¿˜æœ‰æé«˜çš„ç©ºé—´ã€‚é˜ˆå€¼ä¸º0.142ï¼Œå¯¹åº”çš„æ•æ„Ÿåº¦å’Œç‰¹å¼‚åº¦åˆ†åˆ«ä¸ºï¼š<code>0.907</code>ã€<code>0.533</code>ã€‚</p><div class="note default">            <h2 id="äº”ã€è¯„ä¼°æ¨¡å‹çš„é¢„æµ‹æ•ˆæœ"><a href="#äº”ã€è¯„ä¼°æ¨¡å‹çš„é¢„æµ‹æ•ˆæœ" class="headerlink" title="äº”ã€è¯„ä¼°æ¨¡å‹çš„é¢„æµ‹æ•ˆæœ"></a>äº”ã€è¯„ä¼°æ¨¡å‹çš„é¢„æµ‹æ•ˆæœ</h2>          </div><p>åŸºäºæµ‹è¯•é›†ä½¿ç”¨å»ºç«‹çš„æ¨¡å‹è®¡ç®—é¢„æµ‹å€¼ï¼Œä¸çœŸå€¼æ¯”è¾ƒè®¡ç®—å‡ºé¢„æµ‹çš„å‡†ç¡®ç‡ï¼š</p><figure class="highlight r"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯„ä¼°æ¨¡å‹çš„é¢„æµ‹æ•ˆæœ</span></span><br><span class="line"> predict &lt;- predict(fit.reduced,type=<span class="string">'response'</span>,newdata=df.validate)</span><br><span class="line"> predict.results &lt;- ifelse( predict&gt; <span class="number">0.142</span>,<span class="string">"äº‹æ•…"</span>,<span class="string">"éäº‹æ•…"</span>)</span><br><span class="line"> <span class="comment">## é”™è¯¯ç‡</span></span><br><span class="line"> misClasificError &lt;- mean(predict.results != df.validate$case)</span><br><span class="line"> print(paste(<span class="string">'å‡†ç¡®ç‡'</span>,<span class="number">1</span>-misClasificError))</span><br></pre></td></tr></tbody></table></figure><p>è®¡ç®—çš„å‡†ç¡®ç‡ä¸º <strong>0.62343</strong>ï¼Œå‡†ç¡®ç‡ä¸æ˜¯å¾ˆé«˜<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f648.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f648.png?v8">ğŸ™ˆ</span>ï¼Œå¯ä»¥è€ƒè™‘é‡æ–°è®¾è®¡æ¨¡å‹çš„ç»“æ„æé«˜å‡†ç¡®ç‡ã€‚</p><div class="note success">            <h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>â€ƒâ€ƒé€šè¿‡è¿™ä¸ªæ¡ˆä¾‹å¯¹å¹¿ä¹‰çº¿æ€§æ¨¡å‹ä¸­çš„logisticså›å½’æ¨¡å‹æœ‰äº†åˆæ­¥çš„äº†è§£,ç»ƒä¹ äº†æ•°æ®é¢„å¤„ç†ï¼ˆå»ºæ¨¡å‡†å¤‡ï¼‰ã€å»ºç«‹æ¨¡å‹ã€è¯„ä»·æ¨¡å‹çš„å®Œæ•´è¿‡ç¨‹<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f60e.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f60e.png?v8">ğŸ˜</span>ã€‚</p>          </div><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>[1] Kabacoff R , å¡å·´ç§‘å¼—, Kabacoff, et al. <span class="exturl" data-url="aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMXpXdHE=" title="https://pan.baidu.com/s/1zWtq">R è¯­è¨€å®æˆ˜<i class="fa fa-external-link"></i></span>[M]. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2013.</p><p>[2] <span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vbnhsZC9wLzYxNzA2OTAuaHRtbA==" title="https://www.cnblogs.com/nxld/p/6170690.html">å¦‚ä½•åœ¨Rè¯­è¨€ä¸­ä½¿ç”¨Logisticå›å½’æ¨¡å‹<i class="fa fa-external-link"></i></span></p><p>[3] <span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vTGl0dGxlQm9vay9wLzY4NDI5MjAuaHRtbA==" title="https://www.cnblogs.com/LittleBook/p/6842920.html">ä¿¡ç”¨å¡è¯„åˆ†<i class="fa fa-external-link"></i></span></p><p>[4] <span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8zMDk4MjU1MQ==" title="https://zhuanlan.zhihu.com/p/30982551">logisticå›å½’é¢„æµ‹å©šå§»å‡ºè½¨|Rè¯­è¨€<i class="fa fa-external-link"></i></span></p><center>ç•™è¨€åŒºæ¬¢è¿ä»»ä½•çš„å»ºè®®ä¸æ‰¹è¯„<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png?v8">ğŸ’¡</span>~</center><center>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œæ¬¢è¿åˆ†äº«ã€æ‰“èµå“¦<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/2615.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/2615.png?v8">â˜•</span>~</center><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;&lt;em&gt;æ‰€æœ‰çš„æ¨¡å‹éƒ½æ˜¯é”™çš„ï¼Œä½†æ˜¯æœ‰ç”¨ &lt;span class=&quot;github-emoji&quot; style=&quot;color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f31f.png?v8) center/contain&quot; data-src=&quot;https://github.githubassets.com/images/icons/emoji/unicode/1f31f.png?v8&quot;&gt;ğŸŒŸ&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;img title=&quot;æ‹ŸåˆROC&quot; data-src=&quot;/2019/11/07/é€»è¾‘å›å½’æ¨¡å‹/æ‹ŸåˆROC.png&quot;&gt;
&lt;p&gt;æœ¬ä»‹ç»å¦‚ä½•å»ºç«‹é€»è¾‘å›å½’æ¨¡å‹è¿›è¡Œäº¤é€šäº‹æ•…é¢„æµ‹ï¼Œå¹¶éªŒè¯äº†æ¨¡å‹çš„å‡†ç¡®åº¦ã€‚&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="2019ç§‹ã€Šäº¤é€šæ•°æ®åˆ†æã€‹" scheme="http://www.caoxu.club/categories/2019%E7%A7%8B%E3%80%8A%E4%BA%A4%E9%80%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%8B/"/>
    
      <category term="å¹¿ä¹‰çº¿æ€§æ¨¡å‹" scheme="http://www.caoxu.club/categories/2019%E7%A7%8B%E3%80%8A%E4%BA%A4%E9%80%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%8B/%E5%B9%BF%E4%B9%89%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/"/>
    
      <category term="logisticså›å½’æ¨¡å‹" scheme="http://www.caoxu.club/categories/2019%E7%A7%8B%E3%80%8A%E4%BA%A4%E9%80%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%8B/%E5%B9%BF%E4%B9%89%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/logistics%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/"/>
    
    
      <category term="R" scheme="http://www.caoxu.club/tags/R/"/>
    
      <category term="å¹¿ä¹‰çº¿æ€§æ¨¡å‹" scheme="http://www.caoxu.club/tags/%E5%B9%BF%E4%B9%89%E7%BA%BF%E6%80%A7%E6%A8%A1%E5%9E%8B/"/>
    
      <category term="logisticå›å½’æ¨¡å‹" scheme="http://www.caoxu.club/tags/logistic%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B/"/>
    
      <category term="æ•°æ®é¢„å¤„ç†" scheme="http://www.caoxu.club/tags/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/"/>
    
      <category term="æ‹Ÿåˆä¼˜åº¦" scheme="http://www.caoxu.club/tags/%E6%8B%9F%E5%90%88%E4%BC%98%E5%BA%A6/"/>
    
  </entry>
  
  <entry>
    <title>BOSSç›´è˜â€œè‡ªåŠ¨é©¾é©¶â€å²—ä½ä¿¡æ¯çˆ¬å–ä¸åˆ†æ</title>
    <link href="http://www.caoxu.club/2019/10/17/BOSS%E7%9B%B4%E8%81%98%E7%88%AC%E8%99%AB/"/>
    <id>http://www.caoxu.club/2019/10/17/BOSSç›´è˜çˆ¬è™«/</id>
    <published>2019-10-17T07:40:49.000Z</published>
    <updated>2019-10-21T01:49:46.160Z</updated>
    
    <content type="html"><![CDATA[<p>â€ƒâ€ƒè¿™æ˜¯æˆ‘ä¸ªäººåšå®¢çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯å…¨æ–°çš„å¼€å§‹ã€‚å¸Œæœ›æœªæ¥åœ¨è¿™é‡Œè®°å½•æ›´å¤šæœ‰è¶£çš„æ¢ç´¢ã€‚</p><img title="è‡ªåŠ¨é©¾é©¶å²—ä½åç§°" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å²—ä½åç§°.jpg"><p>â€ƒâ€ƒè‡ªåŠ¨é©¾é©¶éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„æˆç†Ÿï¼Œäººæ‰éœ€æ±‚åœ¨ä¸æ–­å¢åŠ ï¼Œä¸ºäº†å¯¹æˆ‘å›½è‡ªåŠ¨é©¾é©¶äººæ‰éœ€æ±‚è¿›è¡Œäº†è§£ï¼Œæœ¬æ–‡é€‰æ‹©<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpcGluLmNvbQ==" title="https://www.zhipin.com">BOSSç›´è˜<i class="fa fa-external-link"></i></span>æ‹›è˜ç½‘ç«™è·å–è‡ªåŠ¨é©¾é©¶ç›¸å…³èŒä½ä¿¡æ¯ï¼Œåˆ†ææ•°æ®ï¼Œæ ¹æ®åˆ†æç»“æœç¡®å®šäººæ‰éœ€æ±‚ã€ä¸ºä»¥åçš„å­¦ä¹ åˆ¶å®šè®¡åˆ’ã€‚<br><a id="more"></a></p><p>æœ¬æ–‡å¼€å‘ç¯å¢ƒï¼š<span class="exturl" data-url="aHR0cHM6Ly93d3cucHl0aG9uLm9yZw==" title="https://www.python.org">python3.7<i class="fa fa-external-link"></i></span> ã€<span class="exturl" data-url="aHR0cHM6Ly93d3cuYW5hY29uZGEuY29t" title="https://www.anaconda.com">anconda3<i class="fa fa-external-link"></i></span></p><h2 id="ä¸€ã€æ•°æ®çˆ¬å–"><a href="#ä¸€ã€æ•°æ®çˆ¬å–" class="headerlink" title="ä¸€ã€æ•°æ®çˆ¬å–"></a>ä¸€ã€æ•°æ®çˆ¬å–</h2><h3 id="1-1-åˆ†æç›®æ ‡é¡µï¼Œæ„é€ URL"><a href="#1-1-åˆ†æç›®æ ‡é¡µï¼Œæ„é€ URL" class="headerlink" title="1.1 åˆ†æç›®æ ‡é¡µï¼Œæ„é€ URL"></a>1.1 åˆ†æç›®æ ‡é¡µï¼Œæ„é€ URL</h3><p>â€ƒâ€ƒé¦–å…ˆï¼Œè¿›å…¥ç½‘ç«™è¾“å…¥å…³é”®å­—â€œè‡ªåŠ¨é©¾é©¶â€æŸ¥è¯¢å¾—åˆ°èŒä½çš„åˆ—è¡¨é¡µé¢ï¼Œå¯¹ç›®æ ‡é¡µé¢çš„URLåˆ†æ<code>https://www.zhipin.com/c101010100/?query=è‡ªåŠ¨é©¾é©¶&amp;page=1&amp;ka=page-1</code>ï¼Œå‘ç°å…³é”®çš„å­—æ®µæœ‰ï¼š<code>query</code>ã€<code>page</code>åˆ†åˆ«ä»£è¡¨äº†è¦æŸ¥è¯¢çš„<strong>å…³é”®å­—</strong>å’Œ<strong>é¡µé¢</strong>ï¼Œ<code>c101010100</code>ä»£è¡¨äº†åŸå¸‚çš„ç¼–å·ï¼Œå½“é€‰æ‹©äº†<strong>å…¨å›½</strong>æ—¶ç¼–å·ä¸º<code>c101010100</code>ï¼Œæ‰€ä»¥é€šè¿‡æ§åˆ¶è¿™ä¸‰ä¸ªå‚æ•°ï¼Œå®ç°å¯¹å…¨å›½æ‰€æœ‰èŒä½åˆ—è¡¨é¡µçš„ä¿¡æ¯çš„çˆ¬å–ã€‚</p><img title="ç›®æ ‡é¡µé¢" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾1-1ç›®æ ‡é¡µé¢.png"><center>å›¾1-1  ç›®æ ‡é¡µé¢</center><p>â€ƒâ€ƒå…¶æ¬¡ï¼Œæ„å»ºheaders cookieï¼Œé€šè¿‡å°è¯•å‘ç°çˆ¬å–Bossç›´è˜å¿…é¡»æ·»åŠ cookieï¼Œæ„å»ºçš„è¯·æ±‚å¤´å¦‚ä¸‹ã€‚</p><p><code>header = {         'User-Agent':            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36',         'Cookie':            '_uab_collina=156967238793885639512262ï¼›bannerClose_wanmeishijie=true; lastCity=101010100; _bl_uid=q5k7F1m8aOIjLLybtrIhbILink0X; __c=1570153169; __g=-;Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1569912508,1569985933,1570068443,1570153169;__l=l=%2Fwww.zhipin.com%2F&amp;r=&amp;friend_source=0&amp;friend_source=0;toUrl=https%3A%2F%2Fwww.zhipin.com%2Fjob_detail%2F%3Fquery%3D%25E8%2587%25AA%25E5%258A%25A8%25E9%25A9%25BE%25E9%25A9%25B6%26city%3D101020100%26industry%3D%26position%3D;__zp_stoken__=eaf4AHdTnnRrM4tosXCE%2FCPA2IBqs%2BoMIR%2FkL2KsnUmYiwLERJs40PPb8KIurKugecg3l0jmgV1zyN86oQkjtd81dw%3D%3D;Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1570159163;__a=64007787.1569672388.1570068443.1570153169.178.6.23.172;__zp_sseed__=4qNlVc1nPWG9Y7G66QfbgtQFW6iSHevalYp+HzrGFH4=; __zp_sname__=9d9e2c78;__zp_sts__=1570159388399'        }</code></p><h3 id="1-2-çˆ¬å–ã€è§£ææ•°æ®å¹¶ä¿å­˜"><a href="#1-2-çˆ¬å–ã€è§£ææ•°æ®å¹¶ä¿å­˜" class="headerlink" title="1.2 çˆ¬å–ã€è§£ææ•°æ®å¹¶ä¿å­˜"></a>1.2 çˆ¬å–ã€è§£ææ•°æ®å¹¶ä¿å­˜</h3><h4 id="1-2-1-ç¡®å®šè¦çˆ¬å–çš„ä¿¡æ¯"><a href="#1-2-1-ç¡®å®šè¦çˆ¬å–çš„ä¿¡æ¯" class="headerlink" title="1.2.1 ç¡®å®šè¦çˆ¬å–çš„ä¿¡æ¯"></a>1.2.1 ç¡®å®šè¦çˆ¬å–çš„ä¿¡æ¯</h4><p>â€ƒâ€ƒF12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå®¡æŸ¥ç½‘é¡µå…ƒç´ ï¼Œéœ€è¦è·å–çš„ä¿¡æ¯åŒ…æ‹¬â€œå·¥ä½œåã€è–ªèµ„ã€å·¥ä½œåœ°ç‚¹ã€å·¥ä½œç»éªŒã€å­¦å†è¦æ±‚ã€ä¼ä¸šåã€ä¼ä¸šæ‰€å±è¡Œä¸šâ€ã€‚</p><img title="ç›®æ ‡é¡µé¢" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾1-2åˆ†æç›®æ ‡é¡µé¢.png"><center>å›¾1-2  åˆ†æç›®æ ‡é¡µé¢</center><h4 id="1-2-2-å‘é€è¯·æ±‚ã€è§£ææ•°æ®ã€ä¿å­˜æ•°æ®"><a href="#1-2-2-å‘é€è¯·æ±‚ã€è§£ææ•°æ®ã€ä¿å­˜æ•°æ®" class="headerlink" title="1.2.2 å‘é€è¯·æ±‚ã€è§£ææ•°æ®ã€ä¿å­˜æ•°æ®"></a>1.2.2 å‘é€è¯·æ±‚ã€è§£ææ•°æ®ã€ä¿å­˜æ•°æ®</h4><p>â€ƒâ€ƒå¯¹ç›®æ ‡é¡µé¢å‘é€è¯·æ±‚åï¼Œè§£æè¿”å›çš„htmlå¹¶æå–æ‰€éœ€è¦çš„ä¿¡æ¯ï¼Œè¿™é‡Œä¸»è¦ç”¨åˆ°çš„åŒ…æœ‰ï¼š<code>urllib</code>ã€<code>requests</code>ã€<code>BeautifulSoup</code>ã€<code>lxml</code>ã€‚å‡½æ•°çš„ä¸»è¦æ­¥éª¤ä¸ºï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œè¯·æ±‚ç›®æ ‡é¡µé¢html</li><li>ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨<code>lxml</code>å’Œ<code>bs4</code>è§£æç›®æ ‡ä¿¡æ¯</li><li>ç¬¬ä¸‰æ­¥ï¼Œéšæœºç­‰å¾…å‡ ç§’ï¼Œé˜²æ­¢ipè¢«å°</li></ul><p>å¾ªç¯å®Œæˆå¯¹æ‰€æœ‰é¡µé¢å²—ä½ä¿¡æ¯çš„æå–ï¼Œå½“å®Œæˆæ•°æ®çš„è§£æåï¼Œå°†æ•°æ®ä¿å­˜åˆ°Excelè¡¨æ ¼ä¸­ã€‚ä¸‹é¢çš„ä»£ç å®ç°ä¸Šè¿°å‘é€è¯·æ±‚ã€è§£ææ•°æ®ã€ä¿å­˜æ•°æ®æ­¥éª¤ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_all_detial</span><span class="params">(total_page_count)</span>:</span></span><br><span class="line">    <span class="comment">#å¾ªç¯æ‰€æœ‰é¡µé¢ï¼Œ</span></span><br><span class="line">    <span class="comment">#ç¬¬ä¸€æ­¥ï¼Œæ„é€ URLè·å–html</span></span><br><span class="line">    <span class="comment">#ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨bs4è§£æè¯¦æƒ…é¡µçš„è¶…é“¾æ¥ï¼Œä¿å­˜åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">    key_words = <span class="string">"è‡ªåŠ¨é©¾é©¶"</span></span><br><span class="line">    key = urllib.parse.quote(key_words) <span class="comment">#å°†ä¸­æ–‡è¿›è¡Œè½¬ç </span></span><br><span class="line">    jobs_title_list = []</span><br><span class="line">    area_list = []</span><br><span class="line">    work_exp_list = []</span><br><span class="line">    edu_list = []</span><br><span class="line">    company_list = []</span><br><span class="line">    salary_list = []</span><br><span class="line">    industry_list = []</span><br><span class="line">    financing_stage_list = []</span><br><span class="line">    company_scale_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,total_page_count+<span class="number">1</span>):   <span class="comment">#æŸ¥çœ‹é¡µé¢æœ‰10é¡µèŒä½åˆ—è¡¨</span></span><br><span class="line">        print(<span class="string">"æ­£åœ¨çˆ¬å–ç¬¬ %s é¡µåˆ—è¡¨é¡µ..."</span> % i)</span><br><span class="line">        url =<span class="string">'https://www.zhipin.com/c100010000/?query='</span>+key+<span class="string">'&amp;page='</span>+str(i)+<span class="string">'&amp;ka=page-'</span>+str(i)</span><br><span class="line">        <span class="comment">#è·å–æ¯é¡µçš„åˆ—è¡¨html</span></span><br><span class="line">        per_page_html = get_job_html(url) </span><br><span class="line">        <span class="comment">#è§£ææå–è¯¦æƒ…é¡µè¶…çš„æ•°æ®</span></span><br><span class="line">        jobs_title,area,work_exp,edu,company,salary,industry\</span><br><span class="line">            =  parse_job_detial(per_page_html) <span class="comment">#,company_scale,financing_stage</span></span><br><span class="line">        <span class="comment"># å°†æ¯é¡µ30ä¸ªæ•°æ®å°¾åŠ åˆ°æ€»çš„æ•°ç»„</span></span><br><span class="line">        jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list\</span><br><span class="line">            = append_job_detial(jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list,\</span><br><span class="line">                jobs_title,area,work_exp,edu,company,salary,industry) </span><br><span class="line">        <span class="comment">#éšæœºç­‰å¾…,é˜²æ­¢å°ip</span></span><br><span class="line">        span=round(random.random()*<span class="number">6</span>,<span class="number">1</span>)</span><br><span class="line">        time.sleep(span)</span><br><span class="line">    print(<span class="string">"çˆ¬å–åˆ—è¡¨é¡µå®Œæˆï¼"</span>)</span><br><span class="line">    <span class="comment"># å°†çˆ¬å–çš„æ•°æ®ä¿å­˜åˆ°Excel</span></span><br><span class="line">    jobs_data = list(zip(jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list)) </span><br><span class="line">    jobs_data.insert(<span class="number">0</span>, (<span class="string">"å²—ä½"</span>,<span class="string">"å·¥ä½œåœ°ç‚¹"</span>,<span class="string">"å·¥ä½œç»éªŒè¦æ±‚"</span>,<span class="string">"å­¦å†è¦æ±‚"</span>,<span class="string">"æ‹›è˜å…¬å¸"</span>,<span class="string">"å·¥èµ„"</span>,<span class="string">"æ‰€å±è¡Œä¸š"</span>))</span><br><span class="line">    save_to_excel(<span class="string">"jobData"</span>, <span class="string">"AutoDriving"</span>, jobs_data) <span class="comment">#fileName,SheetName,æ•°æ®</span></span><br><span class="line">    print(<span class="string">"ä¿å­˜æ•°æ®æˆåŠŸï¼Œæ‰“å¼€jobData.xlsæŸ¥çœ‹"</span>)</span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒ<code>get_job_html(url)</code>å‡½æ•°å®ç°è¯·æ±‚ç›®æ ‡<code>url</code>ï¼Œä»£ç å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_job_html</span><span class="params">(url)</span>:</span></span><br><span class="line">    header = {</span><br><span class="line">         <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36'</span>,</span><br><span class="line">         <span class="string">'Cookie'</span>:<span class="string">'_uab_collina=156967238793885639512262; bannerClose_wanmeishijie=true; lastCity=101010100; _bl_uid=q5k7F1m8aOIjLLybtrIhbILink0X; __c=1570153169; __g=-; Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1569912508,1569985933,1570068443,1570153169; __l=l=%2Fwww.zhipin.com%2F&amp;r=&amp;friend_source=0&amp;friend_source=0; toUrl=https%3A%2F%2Fwww.zhipin.com%2Fjob_detail%2F%3Fquery%3D%25E8%2587%25AA%25E5%258A%25A8%25E9%25A9%25BE%25E9%25A9%25B6%26city%3D101020100%26industry%3D%26position%3D; __zp_stoken__=eaf4AHdTnnRrM4tosXCE%2FCPA2IBqs%2BoMIR%2FkL2KsnUmYiwLERJs40PPb8KIurKugecg3l0jmgV1zyN86oQkjtd81dw%3D%3D; Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1570159163; __a=64007787.1569672388.1570068443.1570153169.178.6.23.172; __zp_sseed__=4qNlVc1nPWG9Y7G66QfbgtQFW6iSHevalYp+HzrGFH4=; __zp_sname__=9d9e2c78; __zp_sts__=1570159388399'</span></span><br><span class="line">         }</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        html = requests.get(url,headers = header)</span><br><span class="line">        <span class="keyword">if</span> html.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> html.text <span class="comment">#è¿”å›åˆ—è¡¨é¡µçš„html</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> RequestException:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒè·å–åˆ°ç½‘é¡µhtmlåè§£ææƒ³è¦çš„æ•°æ®ï¼Œå®ç°ä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_job_detial</span><span class="params">(per_page_html)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> per_page_html==<span class="string">''</span> <span class="keyword">or</span> len(per_page_html)==<span class="number">0</span>:</span><br><span class="line">        print(<span class="string">"æœªè¯·æ±‚åˆ°åˆ—è¡¨é¡µçš„htmlï¼"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        jobs_title = []</span><br><span class="line">        area = []</span><br><span class="line">        work_exp = []</span><br><span class="line">        edu = []</span><br><span class="line">        company = []</span><br><span class="line">        salary = []</span><br><span class="line">        industry = []</span><br><span class="line">        financing_stage = []</span><br><span class="line">        company_scale = []</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ– æ ‡å‡†åŒ–html</span></span><br><span class="line">        html = etree.HTML(per_page_html) </span><br><span class="line">        <span class="comment"># å·¥ä½œå</span></span><br><span class="line">        jobs_title = html.xpath(<span class="string">'//div[@class="job-title"]/text()'</span>)</span><br><span class="line">        <span class="comment">#print(jobs_title)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment"># å·¥ä½œåœ°ç‚¹</span></span><br><span class="line">        area = html.xpath(<span class="string">'//div[@class="info-primary"]//p/text()[1]'</span>)</span><br><span class="line">        <span class="comment">#print(area)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#å·¥ä½œç»éªŒè¦æ±‚</span></span><br><span class="line">        work_exp = html.xpath(<span class="string">'//div[@class="info-primary"]//p/text()[2]'</span>)</span><br><span class="line">        <span class="comment">#print(work_exp)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#å­¦å†è¦æ±‚</span></span><br><span class="line">        edu = html.xpath(<span class="string">'//div[@class="info-primary"]//p/text()[3]'</span>)</span><br><span class="line">        <span class="comment">#print(edu)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#å…¬å¸å</span></span><br><span class="line">        company = html.xpath(<span class="string">'//div[@class="company-text"]//a/text()'</span>)</span><br><span class="line">        <span class="comment">#print(company)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment"># å·¥èµ„</span></span><br><span class="line">        salary = html.xpath(<span class="string">'//div[@class="info-primary"]//span[@class="red"]/text()'</span>)</span><br><span class="line">        <span class="comment">#print(salary)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#æ‰€å±è¡Œä¸š</span></span><br><span class="line">        industry = html.xpath(<span class="string">'//div[@class="info-company"]//p/text()[1]'</span>)</span><br><span class="line">        <span class="keyword">return</span> jobs_title,area,work_exp,edu,company,salary,industry</span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒæ¯æ¬¡è·å–çš„æ˜¯ä¸€é¡µèŒä½åˆ—è¡¨ä¿¡æ¯ï¼Œéœ€è¦å°†æ¯æ¬¡çš„æ•°æ®å°¾åŠ åˆ°æ€»çš„æ•°æ®<code>list</code>ä¸­ï¼Œä»£ç å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append_job_detial</span><span class="params">(jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list,jobs_title,area,work_exp,edu,company,salary,industry)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i,info <span class="keyword">in</span> enumerate(jobs_title):</span><br><span class="line">        jobs_title_list.append(jobs_title[i])</span><br><span class="line">        area_list.append(area[i])</span><br><span class="line">        work_exp_list.append(work_exp[i])</span><br><span class="line">        edu_list.append(edu[i])</span><br><span class="line">        company_list.append(company[i])</span><br><span class="line">        salary_list.append(salary[i])</span><br><span class="line">        industry_list.append(industry[i])</span><br><span class="line">    <span class="keyword">return</span> jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list</span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒå½“æ‰€æœ‰é¡µé¢çš„æ•°æ®è·å–è§£æå®Œæˆåï¼Œå°†æ•°æ®ä¿å­˜ä¸ºExcelçš„å½¢å¼ï¼Œä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_to_excel</span><span class="params">(filename,sheet_name,data)</span>:</span></span><br><span class="line">    f = xlwt.Workbook(encoding=<span class="string">'utf-8'</span>)  <span class="comment">#åˆ›å»ºä¸€ä¸ªWorkbook è®¾ç½®ç¼–ç </span></span><br><span class="line">    <span class="comment"># ç¬¬äºŒå‚æ•°è¡¨ç¤ºæ˜¯å¦å¯ä»¥è¦†ç›–å•å…ƒæ ¼ å…¶å®æ˜¯ Workbookå®ä¾‹åŒ–çš„ä¸€ä¸ªå‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºFalse</span></span><br><span class="line">    sheet = f.add_sheet(sheet_name,cell_overwrite_ok=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># enumerate() å‡½æ•°ç”¨äºå°†ä¸€ä¸ªå¯éå†çš„æ•°æ®å¯¹è±¡(å¦‚åˆ—è¡¨ã€å…ƒç»„æˆ–å­—ç¬¦ä¸²)ç»„åˆä¸ºä¸€ä¸ªç´¢å¼•åºåˆ—ï¼Œ</span></span><br><span class="line">    <span class="comment"># åŒæ—¶åˆ—å‡ºæ•°æ®å’Œæ•°æ®ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨åœ¨ for å¾ªç¯å½“ä¸­ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> row,row_data <span class="keyword">in</span> enumerate(data):  <span class="comment">#å¤„ç†è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> column,column_data <span class="keyword">in</span> enumerate(row_data): <span class="comment">#å¤„ç†åˆ—</span></span><br><span class="line">            sheet.write(row,column,str(column_data))</span><br><span class="line">    f.save(filename + <span class="string">".xls"</span>)</span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒå¯¹æ•´ä¸ªè¿‡ç¨‹çš„ä»£ç é›†æˆå¦‚ä¸‹ã€‚</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree <span class="comment">#xpath</span></span><br><span class="line"><span class="keyword">from</span> requests.exceptions <span class="keyword">import</span> RequestException</span><br><span class="line"><span class="keyword">import</span> xlwt       <span class="comment">#excelæ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_job_html</span><span class="params">(url)</span>:</span></span><br><span class="line">    header = {</span><br><span class="line">         <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36'</span>,</span><br><span class="line">         <span class="string">'Cookie'</span>:<span class="string">'_uab_collina=156967238793885639512262; bannerClose_wanmeishijie=true; lastCity=101010100; _bl_uid=q5k7F1m8aOIjLLybtrIhbILink0X; __c=1570153169; __g=-; Hm_lvt_194df3105ad7148dcf2b98a91b5e727a=1569912508,1569985933,1570068443,1570153169; __l=l=%2Fwww.zhipin.com%2F&amp;r=&amp;friend_source=0&amp;friend_source=0; toUrl=https%3A%2F%2Fwww.zhipin.com%2Fjob_detail%2F%3Fquery%3D%25E8%2587%25AA%25E5%258A%25A8%25E9%25A9%25BE%25E9%25A9%25B6%26city%3D101020100%26industry%3D%26position%3D; __zp_stoken__=eaf4AHdTnnRrM4tosXCE%2FCPA2IBqs%2BoMIR%2FkL2KsnUmYiwLERJs40PPb8KIurKugecg3l0jmgV1zyN86oQkjtd81dw%3D%3D; Hm_lpvt_194df3105ad7148dcf2b98a91b5e727a=1570159163; __a=64007787.1569672388.1570068443.1570153169.178.6.23.172; __zp_sseed__=4qNlVc1nPWG9Y7G66QfbgtQFW6iSHevalYp+HzrGFH4=; __zp_sname__=9d9e2c78; __zp_sts__=1570159388399'</span></span><br><span class="line">         }</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        html = requests.get(url,headers = header)</span><br><span class="line">        <span class="keyword">if</span> html.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> html.text <span class="comment">#è¿”å›åˆ—è¡¨é¡µçš„html</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> RequestException:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_job_detial</span><span class="params">(per_page_html)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> per_page_html==<span class="string">''</span> <span class="keyword">or</span> len(per_page_html)==<span class="number">0</span>:</span><br><span class="line">        print(<span class="string">"æœªè¯·æ±‚åˆ°åˆ—è¡¨é¡µçš„htmlï¼"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        jobs_title = []</span><br><span class="line">        area = []</span><br><span class="line">        work_exp = []</span><br><span class="line">        edu = []</span><br><span class="line">        company = []</span><br><span class="line">        salary = []</span><br><span class="line">        industry = []</span><br><span class="line">        financing_stage = []</span><br><span class="line">        company_scale = []</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ– æ ‡å‡†åŒ–html</span></span><br><span class="line">        html = etree.HTML(per_page_html) </span><br><span class="line">        <span class="comment"># å·¥ä½œå</span></span><br><span class="line">        jobs_title = html.xpath(<span class="string">'//div[@class="job-title"]/text()'</span>)</span><br><span class="line">        <span class="comment">#print(jobs_title)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment"># å·¥ä½œåœ°ç‚¹</span></span><br><span class="line">        area = html.xpath(<span class="string">'//div[@class="info-primary"]//p/text()[1]'</span>)</span><br><span class="line">        <span class="comment">#print(area)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#å·¥ä½œç»éªŒè¦æ±‚</span></span><br><span class="line">        work_exp = html.xpath(<span class="string">'//div[@class="info-primary"]//p/text()[2]'</span>)</span><br><span class="line">        <span class="comment">#print(work_exp)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#å­¦å†è¦æ±‚</span></span><br><span class="line">        edu = html.xpath(<span class="string">'//div[@class="info-primary"]//p/text()[3]'</span>)</span><br><span class="line">        <span class="comment">#print(edu)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#å…¬å¸å</span></span><br><span class="line">        company = html.xpath(<span class="string">'//div[@class="company-text"]//a/text()'</span>)</span><br><span class="line">        <span class="comment">#print(company)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment"># å·¥èµ„</span></span><br><span class="line">        salary = html.xpath(<span class="string">'//div[@class="info-primary"]//span[@class="red"]/text()'</span>)</span><br><span class="line">        <span class="comment">#print(salary)</span></span><br><span class="line">        <span class="comment">#a = 1</span></span><br><span class="line">        <span class="comment">#æ‰€å±è¡Œä¸š</span></span><br><span class="line">        industry = html.xpath(<span class="string">'//div[@class="info-company"]//p/text()[1]'</span>)</span><br><span class="line">        <span class="keyword">return</span> jobs_title,area,work_exp,edu,company,salary,industry</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append_job_detial</span><span class="params">(jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list,jobs_title,area,work_exp,edu,company,salary,industry)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i,info <span class="keyword">in</span> enumerate(jobs_title):</span><br><span class="line">        jobs_title_list.append(jobs_title[i])</span><br><span class="line">        area_list.append(area[i])</span><br><span class="line">        work_exp_list.append(work_exp[i])</span><br><span class="line">        edu_list.append(edu[i])</span><br><span class="line">        company_list.append(company[i])</span><br><span class="line">        salary_list.append(salary[i])</span><br><span class="line">        industry_list.append(industry[i])</span><br><span class="line">    <span class="keyword">return</span> jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_to_excel</span><span class="params">(filename,sheet_name,data)</span>:</span></span><br><span class="line">    f = xlwt.Workbook(encoding=<span class="string">'utf-8'</span>)  <span class="comment">#åˆ›å»ºä¸€ä¸ªWorkbook è®¾ç½®ç¼–ç </span></span><br><span class="line">    <span class="comment"># ç¬¬äºŒå‚æ•°è¡¨ç¤ºæ˜¯å¦å¯ä»¥è¦†ç›–å•å…ƒæ ¼ å…¶å®æ˜¯ Workbookå®ä¾‹åŒ–çš„ä¸€ä¸ªå‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºFalse</span></span><br><span class="line">    sheet = f.add_sheet(sheet_name,cell_overwrite_ok=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># enumerate() å‡½æ•°ç”¨äºå°†ä¸€ä¸ªå¯éå†çš„æ•°æ®å¯¹è±¡(å¦‚åˆ—è¡¨ã€å…ƒç»„æˆ–å­—ç¬¦ä¸²)ç»„åˆä¸ºä¸€ä¸ªç´¢å¼•åºåˆ—ï¼Œ</span></span><br><span class="line">    <span class="comment"># åŒæ—¶åˆ—å‡ºæ•°æ®å’Œæ•°æ®ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨åœ¨ for å¾ªç¯å½“ä¸­ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> row,row_data <span class="keyword">in</span> enumerate(data):  <span class="comment">#å¤„ç†è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> column,column_data <span class="keyword">in</span> enumerate(row_data): <span class="comment">#å¤„ç†åˆ—</span></span><br><span class="line">            sheet.write(row,column,str(column_data))</span><br><span class="line">    f.save(filename + <span class="string">".xls"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_all_detial</span><span class="params">(total_page_count)</span>:</span></span><br><span class="line">    <span class="comment">#å¾ªç¯æ‰€æœ‰é¡µé¢ï¼Œ</span></span><br><span class="line">    <span class="comment">#ç¬¬ä¸€æ­¥ï¼Œæ„é€ URLè·å–html</span></span><br><span class="line">    <span class="comment">#ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨bs4è§£æè¯¦æƒ…é¡µçš„è¶…é“¾æ¥ï¼Œä¿å­˜åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">    key_words = <span class="string">"è‡ªåŠ¨é©¾é©¶"</span></span><br><span class="line">    key = urllib.parse.quote(key_words) <span class="comment">#å°†ä¸­æ–‡è¿›è¡Œè½¬ç </span></span><br><span class="line">    jobs_title_list = []</span><br><span class="line">    area_list = []</span><br><span class="line">    work_exp_list = []</span><br><span class="line">    edu_list = []</span><br><span class="line">    company_list = []</span><br><span class="line">    salary_list = []</span><br><span class="line">    industry_list = []</span><br><span class="line">    financing_stage_list = []</span><br><span class="line">    company_scale_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,total_page_count+<span class="number">1</span>):   <span class="comment">#æŸ¥çœ‹é¡µé¢æœ‰10é¡µèŒä½åˆ—è¡¨</span></span><br><span class="line">        print(<span class="string">"æ­£åœ¨çˆ¬å–ç¬¬ %s é¡µåˆ—è¡¨é¡µ..."</span> % i)</span><br><span class="line">        url =<span class="string">'https://www.zhipin.com/c100010000/?query='</span>+key+<span class="string">'&amp;page='</span>+str(i)+<span class="string">'&amp;ka=page-'</span>+str(i)</span><br><span class="line">        <span class="comment">#è·å–æ¯é¡µçš„åˆ—è¡¨html</span></span><br><span class="line">        per_page_html = get_job_html(url) </span><br><span class="line">        <span class="comment">#è§£ææå–è¯¦æƒ…é¡µè¶…çš„æ•°æ®</span></span><br><span class="line">        jobs_title,area,work_exp,edu,company,salary,industry\</span><br><span class="line">            =  parse_job_detial(per_page_html) <span class="comment">#,company_scale,financing_stage</span></span><br><span class="line">        <span class="comment"># å°†æ¯é¡µ30ä¸ªæ•°æ®å°¾åŠ åˆ°æ€»çš„æ•°ç»„</span></span><br><span class="line">        jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list\</span><br><span class="line">            = append_job_detial(jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list,\</span><br><span class="line">                jobs_title,area,work_exp,edu,company,salary,industry) <span class="comment">#,financing_stage_list,financing_stage,financing_stage_list,company_scale,,company_scale_list,company_scale_list,</span></span><br><span class="line">        <span class="comment">#éšæœºç­‰å¾…,é˜²æ­¢å°ip</span></span><br><span class="line">        span=round(random.random()*<span class="number">6</span>,<span class="number">1</span>)</span><br><span class="line">        time.sleep(span)</span><br><span class="line">    print(<span class="string">"çˆ¬å–åˆ—è¡¨é¡µå®Œæˆï¼"</span>)</span><br><span class="line">    <span class="comment"># å°†çˆ¬å–çš„æ•°æ®ä¿å­˜åˆ°Excel</span></span><br><span class="line">    jobs_data = list(zip(jobs_title_list,area_list,work_exp_list,edu_list,company_list,salary_list,industry_list)) <span class="comment">#,company_scale_list</span></span><br><span class="line">    jobs_data.insert(<span class="number">0</span>, (<span class="string">"å²—ä½"</span>,<span class="string">"å·¥ä½œåœ°ç‚¹"</span>,<span class="string">"å·¥ä½œç»éªŒè¦æ±‚"</span>,<span class="string">"å­¦å†è¦æ±‚"</span>,<span class="string">"æ‹›è˜å…¬å¸"</span>,<span class="string">"å·¥èµ„"</span>,<span class="string">"æ‰€å±è¡Œä¸š"</span>))  <span class="comment">#,"å…¬å¸è§„æ¨¡"</span></span><br><span class="line">    save_to_excel(<span class="string">"jobData"</span>, <span class="string">"AutoDriving"</span>, jobs_data) <span class="comment">#fileName,SheetName,æ•°æ®</span></span><br><span class="line">    print(<span class="string">"ä¿å­˜æ•°æ®æˆåŠŸï¼Œæ‰“å¼€jobData.xlsæŸ¥çœ‹"</span>)</span><br><span class="line"></span><br><span class="line">total_page_count = <span class="number">10</span> <span class="comment">#è®¾ç½®çˆ¬å–åˆ—è¡¨é¡µé¡µæ•°ï¼Œ10é¡µ</span></span><br><span class="line">get_all_detial(total_page_count) <span class="comment">#è·å–å·¥ä½œçš„æ•°æ®ä¿å­˜åˆ°Excel</span></span><br></pre></td></tr></tbody></table></figure><img title="è·å–çš„æ•°æ®" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾1-4è·å–çš„æ•°æ®.png"><center>å›¾1-4  è·å–çš„æ•°æ®</center><p>â€ƒâ€ƒå›¾1-4ä¸ºè·å–çš„ç›®æ ‡æ•°æ®ï¼Œä¸€å…±æŠ“å–äº†120ä¸ªå²—ä½ä¿¡æ¯ã€‚ä¸‹ä¸€æ­¥å°±æ˜¯å¯¹è·å–çš„ä¿¡æ¯è¿›è¡Œæ¸…æ´—å’Œç»Ÿè®¡åˆ†æã€‚</p><h2 id="äºŒã€æ•°æ®åˆ†æ"><a href="#äºŒã€æ•°æ®åˆ†æ" class="headerlink" title="äºŒã€æ•°æ®åˆ†æ"></a>äºŒã€æ•°æ®åˆ†æ</h2><p>â€ƒâ€ƒæœ¬èŠ‚ä¸»è¦ä»‹ç»æˆ‘ä»¬å…³å¿ƒå“ªäº›ä¿¡æ¯ï¼Œå¹¶å¦‚ä½•å¯¹è¿™äº›çš„æ•°æ®è¿›è¡Œåˆ†æå¤„ç†å’Œå¯è§†åŒ–ï¼Œä»è€Œä»è¿™äº›æ•°æ®ä¸­æå–å‡ºæœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p><h3 id="2-1-å·¥ä½œåœ°ç‚¹å…¨å›½åˆ†å¸ƒ"><a href="#2-1-å·¥ä½œåœ°ç‚¹å…¨å›½åˆ†å¸ƒ" class="headerlink" title="2.1 å·¥ä½œåœ°ç‚¹å…¨å›½åˆ†å¸ƒ"></a>2.1 å·¥ä½œåœ°ç‚¹å…¨å›½åˆ†å¸ƒ</h3><p>â€ƒâ€ƒæ‰¾å·¥ä½œé¦–å…ˆå…³æ³¨çš„ç‚¹åº”è¯¥æ˜¯â€œåœ¨å“ªâ€å·¥ä½œï¼Œæ‰¾åˆ°ä¸€ä¸ªæˆ¿ä»·ä¾¿å®œå·¥èµ„å¾ˆé«˜çš„å·¥ä½œåº”è¯¥æ˜¯ç»å¤§å¤šæ•°æ±‚èŒè€…çš„æœ€ä½³é€‰æ‹©ã€‚é‚£ä¹ˆâ€œè‡ªåŠ¨é©¾é©¶â€ç›¸å…³å²—ä½åœ¨å…¨å›½èŒƒå›´å†…çš„åˆ†å¸ƒæ˜¯ä»€ä¹ˆæ ·çš„æƒ…å†µï¼Œæœ¬æ–‡é€šè¿‡ä½¿ç”¨ä¼˜ç§€çš„å¯è§†åŒ–åŒ…pyecharts<sup>[1]</sup>å®ç°å¯¹æ‹›è˜å²—ä½å…¨å›½çš„åˆ†å¸ƒæƒ…å†µçš„åˆ†æã€‚</p><p><strong>åœ¨åˆ¶ä½œè¿‡ç¨‹ä¸­pyechartsçš„<span class="exturl" data-url="aHR0cHM6Ly9weWVjaGFydHMub3JnLyMvemgtY24v" title="https://pyecharts.org/#/zh-cn/">å®˜æ–¹æ–‡æ¡£<i class="fa fa-external-link"></i></span>èµ·åˆ°äº†å¾ˆå¤§çš„ä½œç”¨ï¼Œä»¥ååœ¨å¼€å‘è¿‡ç¨‹ä¸­è¦é‡è§†å®˜æ–¹æ–‡æ¡£çš„ä½¿ç”¨ã€‚</strong></p><img title="å›¾2-1 è‡ªåŠ¨é©¾é©¶èŒä½æ‹›è˜å…¨å›½åˆ†å¸ƒ" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-1%20è‡ªåŠ¨é©¾é©¶èŒä½æ‹›è˜å…¨å›½åˆ†å¸ƒ.png"><center>å›¾2-1 è‡ªåŠ¨é©¾é©¶èŒä½æ‹›è˜å…¨å›½åˆ†å¸ƒ</center><img title="å›¾2-2  è‡ªåŠ¨é©¾é©¶å²—ä½æ•°é‡å…¨å›½TOP10åŸå¸‚" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-2%20%20è‡ªåŠ¨é©¾é©¶å²—ä½æ•°é‡å…¨å›½TOP10åŸå¸‚.png"><center>å›¾2-2  è‡ªåŠ¨é©¾é©¶å²—ä½æ•°é‡å…¨å›½TOP10åŸå¸‚</center><p>ä»£ç å®ç°</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Geo</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> GeoType</span><br><span class="line"><span class="keyword">from</span> pyecharts.render <span class="keyword">import</span> make_snapshot</span><br><span class="line"><span class="keyword">from</span> snapshot_selenium <span class="keyword">import</span> snapshot</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">city_counter</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    å…¨å›½å·¥ä½œåˆ†å¸ƒçƒ­åŠ›å›¾</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    datas = pd.read_excel(<span class="string">'jobData.xls'</span>, encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">    datas_copy = datas</span><br><span class="line">    datas_copy[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>] = datas_copy[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>].apply(<span class="keyword">lambda</span> x :x.split(<span class="string">' '</span>)[<span class="number">0</span>])</span><br><span class="line">    grouped_city = datas_copy.groupby(datas[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>])</span><br><span class="line">    grouped_city_count = grouped_city[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>].agg([<span class="string">'count'</span>])    <span class="comment"># å¯¹åŸå¸‚æ•°é‡è¿›è¡Œç»Ÿè®¡</span></span><br><span class="line">    grouped_city_count.reset_index(inplace = <span class="literal">True</span>)                  <span class="comment"># è‹¥ä¸è¿›è¡Œæ­¤æ“ä½œï¼Œå°†ä¼šæŠ¥é”™ </span></span><br><span class="line">    city_data = [(grouped_city_count[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>][i], grouped_city_count[<span class="string">'count'</span>][i]) <span class="keyword">for</span> i <span class="keyword">in</span> range(grouped_city_count.shape[<span class="number">0</span>])]</span><br><span class="line">    <span class="comment">#print(city_data)</span></span><br><span class="line">    attr = []</span><br><span class="line">    value = []</span><br><span class="line">    <span class="keyword">for</span> obj <span class="keyword">in</span> city_data:</span><br><span class="line">        attrSub = re.findall(<span class="string">r'[(](.*?)[)]'</span>, str(obj))[<span class="number">0</span>].split(<span class="string">','</span>)[<span class="number">0</span>]</span><br><span class="line">        attr.append(attrSub.split(<span class="string">"'"</span>)[<span class="number">1</span>])</span><br><span class="line">        value.append(int(re.findall(<span class="string">r'[(](.*?)[)]'</span>, str(obj))[<span class="number">0</span>].split(<span class="string">','</span>)[<span class="number">1</span>].strip()))</span><br><span class="line">    <span class="comment">#print(attr)</span></span><br><span class="line">    <span class="comment">#print(value)</span></span><br><span class="line">    <span class="comment"># å…¨å›½å·¥ä½œåˆ†å¸ƒçƒ­åŠ›å›¾</span></span><br><span class="line">    geo = Geo()</span><br><span class="line">    geo = (</span><br><span class="line">        Geo()</span><br><span class="line">        .add_schema(maptype=<span class="string">"china"</span>)</span><br><span class="line">        .add(<span class="string">"å²—ä½æ•°"</span>,[list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(attr, value)],symbol_size = <span class="number">20</span>)</span><br><span class="line">        .set_series_opts(label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>)) <span class="comment">#è®¾ç½®å›¾ä¾‹ä¸å¯è§</span></span><br><span class="line">        .set_global_opts(visualmap_opts=opts.VisualMapOpts(min_=<span class="number">0</span>,max_=<span class="number">40</span>),title_opts=opts.TitleOpts(title=<span class="string">"è‡ªåŠ¨é©¾é©¶èŒä½æ‹›è˜åœ°ç†ä½ç½®"</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="comment">#geo.render('è‡ªåŠ¨é©¾é©¶å²—ä½å…¨å›½çƒ­åŠ›å›¾.html')</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å…¨å›½æ‹›è˜èŒä½top10åœ°åŒº</span></span><br><span class="line">    city_top10 = sorted(city_data, key = <span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse = <span class="literal">True</span>)[<span class="number">0</span>:<span class="number">10</span>]</span><br><span class="line">    attr = []</span><br><span class="line">    value = []</span><br><span class="line">    <span class="keyword">for</span> obj <span class="keyword">in</span> city_top10:</span><br><span class="line">        attrSub = re.findall(<span class="string">r'[(](.*?)[)]'</span>, str(obj))[<span class="number">0</span>].split(<span class="string">','</span>)[<span class="number">0</span>]</span><br><span class="line">        attr.append(attrSub.split(<span class="string">"'"</span>)[<span class="number">1</span>])</span><br><span class="line">        value.append(int(re.findall(<span class="string">r'[(](.*?)[)]'</span>, str(obj))[<span class="number">0</span>].split(<span class="string">','</span>)[<span class="number">1</span>].strip()))</span><br><span class="line">    bar = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis(attr)</span><br><span class="line">        .add_yaxis(<span class="string">"æ‹›è˜æ•°é‡"</span>,value)</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">"è‡ªåŠ¨é©¾é©¶å²—ä½åˆ†å¸ƒæŸ±çŠ¶å›¾"</span>))</span><br><span class="line">        )</span><br><span class="line">    <span class="comment">#bar.render()</span></span><br><span class="line">    <span class="keyword">return</span> geo,bar</span><br><span class="line"></span><br><span class="line">geo,bar = city_counter()</span><br><span class="line">geo.render(<span class="string">'è‡ªåŠ¨é©¾é©¶å²—ä½å…¨å›½çƒ­åŠ›å›¾.html'</span>)</span><br><span class="line">bar.render(<span class="string">'è‡ªåŠ¨é©¾é©¶å²—ä½åˆ†å¸ƒæŸ±çŠ¶å›¾.html'</span>)</span><br><span class="line"><span class="comment">#make_snapshot(snapshot, geo.render(), "è‡ªåŠ¨é©¾é©¶å²—ä½å…¨å›½çƒ­åŠ›å›¾.png") # ä½¿ç”¨æ­¤è¯­å¥å¯ç›´æ¥ç”Ÿæˆå›¾ç‰‡</span></span><br><span class="line"><span class="comment">#make_snapshot(snapshot, bar.render(), "è‡ªåŠ¨é©¾é©¶å²—ä½åˆ†å¸ƒæŸ±çŠ¶å›¾.png") # ä½¿ç”¨æ­¤è¯­å¥å¯ç›´æ¥ç”Ÿæˆå›¾ç‰‡</span></span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒä»å›¾ä¸­å¯ä»¥çœ‹å‡ºâ€œè‡ªåŠ¨é©¾é©¶â€å²—ä½ä¸»è¦åˆ†å¸ƒåœ¨åŒ—äº¬ã€ä¸Šæµ·ã€æ·±åœ³ã€æ­¦æ±‰ã€è‹å·ã€æ­å·ç­‰ä¸€çº¿ã€äºŒçº¿åŸå¸‚ï¼ŒåŒ—äº¬ã€æ±Ÿæµ™æ²ªï¼ˆåŒ…é‚®åŒºï¼‰å’Œæ·±åœ³æ˜¯ä¸»è¦é˜µåœ°ï¼Œå¦‚æœæƒ³è¦ä»äº‹è¿™ä¸ªé¢†åŸŸçš„å·¥ä½œï¼Œåˆ°è¿™äº›åŸå¸‚å»å‘å±•æœ‰å¥½çš„ç¯å¢ƒã€‚</p><h3 id="2-2-è–ªèµ„æ°´å¹³"><a href="#2-2-è–ªèµ„æ°´å¹³" class="headerlink" title="2.2 è–ªèµ„æ°´å¹³"></a>2.2 è–ªèµ„æ°´å¹³</h3><p>â€ƒâ€ƒæ‰¾å·¥ä½œæ›´é‡è¦çš„æ˜¯è–ªèµ„çš„æ°´å¹³ï¼Œè¾›è¾›è‹¦è‹¦å­¦äº†å¾ˆå¤šæŠ€èƒ½å’ŒçŸ¥è¯†å°±æ˜¯ä¸ºäº†è·å¾—æ›´å¤šçš„è–ªèµ„ã€‚æ‰€ä»¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹â€œè‡ªåŠ¨é©¾é©¶â€å²—ä½çš„å…¨å›½èŒƒå›´çš„è–ªèµ„æ°´å¹³æ˜¯æ€æ ·çš„ã€‚æœ¬æ–‡å¯¹è·å–çš„æ•°æ®æŒ‰ç…§åŸå¸‚åˆ†ç±»ï¼Œè®¡ç®—äº†å„ä¸ªåŸå¸‚çš„å¹³å‡è–ªèµ„æ°´å¹³ï¼Œå¦‚å›¾2-3æ‰€ç¤ºã€‚</p><img title="å›¾2-3  è‡ªåŠ¨é©¾é©¶å…¨å›½å¹³å‡è–ªèµ„æ°´å¹³ç»Ÿè®¡" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-3%20%20è‡ªåŠ¨é©¾é©¶å…¨å›½å¹³å‡è–ªèµ„æ°´å¹³ç»Ÿè®¡.png"><center>å›¾2-3  è‡ªåŠ¨é©¾é©¶å…¨å›½å¹³å‡è–ªèµ„æ°´å¹³ç»Ÿè®¡</center><p>â€ƒâ€ƒä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ­å·ä»¥35Kçš„å¹³å‡æœˆè–ªä½å±…å…¨å›½ç¬¬ä¸€ï¼Œå…¨å›½èŒƒå›´å†…çš„å¹³å‡è–ªèµ„ä¸º18422å…ƒ/æœˆï¼Œä½›å±±æœ€ä½ä»…æœ‰5000å…ƒ/æœˆã€‚æœˆè–ªè¶…è¿‡å…¨å›½å¹³å‡æ°´å¹³çš„æ•°é‡è¶…æ€»ä½“çš„60%ã€‚å¯ä»¥çœ‹å‡ºï¼Œè–ªèµ„æ°´å¹³æœ€é«˜çš„åŸå¸‚åœ¨æ­å·ã€åŒ—äº¬ã€ä¸Šæµ·ã€æ·±åœ³ç­‰ä¸€çº¿åŸå¸‚ï¼Œæ­å·çš„ç‰©ä»·æ°´å¹³å’Œæˆ¿ä»·ä½äºåŒ—ä¸Šå¹¿ç­‰åŸå¸‚ï¼Œè½æˆ·å’Œç”Ÿæ´»çš„æˆæœ¬ä¸åŒ—ä¸Šå¹¿ç›¸æ¯”è¾ƒä½ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><p>ä»£ç å®ç°</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Bar</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> pyecharts.render <span class="keyword">import</span> make_snapshot</span><br><span class="line"><span class="keyword">from</span> snapshot_selenium <span class="keyword">import</span> snapshot</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deal_salary</span><span class="params">(salary_data)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> re.match(<span class="string">'.*K'</span>,salary_data):</span><br><span class="line">        <span class="comment"># è®¡ç®—å¹³å‡å·¥èµ„</span></span><br><span class="line">        <span class="keyword">return</span> int(float((float(re.findall(<span class="string">r'(.*?)K'</span>,salary_data)[<span class="number">0</span>].split(<span class="string">'-'</span>)[<span class="number">0</span>])*<span class="number">1000</span>+\</span><br><span class="line">            float(re.findall(<span class="string">r'(.*?)K'</span>,salary_data)[<span class="number">0</span>].split(<span class="string">'-'</span>)[<span class="number">1</span>])*<span class="number">1000</span>)/<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">city_salary</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">æ¯ä¸ªåŸå¸‚çš„å¹³å‡å·¥èµ„æ¡å½¢ç»Ÿè®¡å›¾</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">    datas = pd.read_excel(<span class="string">'jobData.xls'</span>, encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">    datas_copy = datas</span><br><span class="line">    datas_copy[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>] = datas_copy[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>].apply(<span class="keyword">lambda</span> x :x.split(<span class="string">' '</span>)[<span class="number">0</span>])</span><br><span class="line">    datas_copy = datas_copy[~datas_copy[<span class="string">'å·¥èµ„'</span>].str.contains(<span class="string">'å¤©'</span>)] <span class="comment"># é™¤å»å®ä¹ çš„æ•°æ®</span></span><br><span class="line">    datas_copy = datas_copy[~datas_copy[<span class="string">'å·¥èµ„'</span>].isna()] <span class="comment"># é™¤å»å·¥èµ„ä¸ºç©ºçš„å€¼</span></span><br><span class="line">    datas_copy[<span class="string">'å·¥èµ„'</span>] = datas_copy[<span class="string">'å·¥èµ„'</span>].apply(<span class="keyword">lambda</span> x :deal_salary(x))</span><br><span class="line">    grouped_city_salary = datas_copy[<span class="string">'å·¥èµ„'</span>].groupby(datas_copy[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>])</span><br><span class="line">    salary_month = grouped_city_salary.agg([<span class="string">'mean'</span>]) <span class="comment">#è®¡ç®—å„ä¸ªåŸå¸‚çš„å¹³å‡å·¥èµ„</span></span><br><span class="line">    salary_month.reset_index(inplace = <span class="literal">True</span>)</span><br><span class="line">    attr = []</span><br><span class="line">    value = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(salary_month.shape[<span class="number">0</span>]):</span><br><span class="line">        attr.append(salary_month[<span class="string">'å·¥ä½œåœ°ç‚¹'</span>][i])</span><br><span class="line">        value.append(str(salary_month[<span class="string">'mean'</span>][i])) <span class="comment">#å°† int æ•°å­—è½¬åŒ–ä¸º stringæ‰èƒ½æ˜¾ç¤ºå›¾ç‰‡</span></span><br><span class="line">    bar = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis(attr)</span><br><span class="line">        .add_yaxis(<span class="string">"å·¥èµ„(å…ƒ)"</span>,value)</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">"åŸå¸‚å¹³å‡å·¥èµ„ç»Ÿè®¡å›¾"</span>))</span><br><span class="line">        .set_series_opts(</span><br><span class="line">            label_opts=opts.LabelOpts(is_show=<span class="literal">False</span>),</span><br><span class="line">            markline_opts=opts.MarkLineOpts(</span><br><span class="line">                data=[</span><br><span class="line">                    opts.MarkLineItem(type_=<span class="string">"average"</span>, name=<span class="string">"å¹³å‡å€¼"</span>)</span><br><span class="line">                ]</span><br><span class="line">            ),</span><br><span class="line">            markpoint_opts=opts.MarkPointOpts(</span><br><span class="line">                data=[</span><br><span class="line">                    opts.MarkPointItem(type_=<span class="string">"max"</span>, name=<span class="string">"æœ€å¤§å€¼"</span>),</span><br><span class="line">                    opts.MarkPointItem(type_=<span class="string">"min"</span>, name=<span class="string">"æœ€å°å€¼"</span>),</span><br><span class="line">                ]</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> bar</span><br><span class="line"></span><br><span class="line">city_mean_salary = city_salary()</span><br><span class="line">city_mean_salary.render()</span><br><span class="line"><span class="comment">#make_snapshot(snapshot, city_mean_salary.render(), "åŸå¸‚å¹³å‡å·¥èµ„ç»Ÿè®¡å›¾.png") # ä½¿ç”¨æ­¤è¯­å¥å¯ç›´æ¥ç”Ÿæˆå›¾ç‰‡</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-3-å­¦å†ã€å·¥ä½œç»éªŒè¦æ±‚"><a href="#2-3-å­¦å†ã€å·¥ä½œç»éªŒè¦æ±‚" class="headerlink" title="2.3 å­¦å†ã€å·¥ä½œç»éªŒè¦æ±‚"></a>2.3 å­¦å†ã€å·¥ä½œç»éªŒè¦æ±‚</h3><p>â€ƒâ€ƒä½ å¯èƒ½ä¼šé—®è¿™äº›å²—ä½è¿™ä¹ˆå¥½ï¼Œä¼šå¯¹å­¦å†æœ‰å¾ˆé«˜çš„è¦æ±‚å—ï¼Ÿï¼ˆå­¦å†åœ¨ä¸åŒè¡Œä¸šéƒ½æ˜¯è¶Šé«˜è¶Šå¥½å—ï¼Ÿï¼‰å¯¹å·¥ä½œç»éªŒåˆæœ‰ä»€ä¹ˆæ ·çš„è¦æ±‚å‘¢ï¼Ÿé‚£ä¹ˆæˆ‘ä»¬å°±é€šè¿‡æ•°æ®æ¥çœ‹ä¸€ä¸‹ç»“æœå§ï¼Œé€šè¿‡å¯¹æ‰€è·å–ä¿¡æ¯ä¸­çš„å­¦å†è¦æ±‚ã€å·¥ä½œç»éªŒè¿›è¡Œç»Ÿè®¡ï¼Œç»˜åˆ¶â€œè‡ªåŠ¨é©¾é©¶â€èŒä½å­¦å†è¦æ±‚é¥¼å›¾ã€å·¥ä½œç»éªŒè¦æ±‚é¥¼å›¾å¦‚å›¾2-4å’Œå›¾2-5æ‰€ç¤ºã€‚</p><img title="å›¾2-4  â€œè‡ªåŠ¨é©¾é©¶â€èŒä½å­¦å†è¦æ±‚" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-4%20%20â€œè‡ªåŠ¨é©¾é©¶â€èŒä½å­¦å†è¦æ±‚.png"><center>å›¾2-4  â€œè‡ªåŠ¨é©¾é©¶â€èŒä½å­¦å†è¦æ±‚</center><img title="å›¾2-5  â€œè‡ªåŠ¨é©¾é©¶â€èŒä½å·¥ä½œç»éªŒè¦æ±‚" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-5%20%20â€œè‡ªåŠ¨é©¾é©¶â€èŒä½å·¥ä½œç»éªŒè¦æ±‚.png"><center>å›¾2-5  â€œè‡ªåŠ¨é©¾é©¶â€èŒä½å·¥ä½œç»éªŒè¦æ±‚</center><p>â€ƒâ€ƒé€šè¿‡ç»Ÿè®¡ç»“æœå¯ä»¥çœ‹å‡ºï¼Œåœ¨è·å–çš„å²—ä½æ‹›è˜ä¿¡æ¯ä¸­ï¼Œè‡ªåŠ¨é©¾é©¶ç›¸å…³å²—ä½å¯¹å­¦å†çš„è¦æ±‚ä¸æ˜¯å¾ˆé«˜ï¼Œæœ¬ç§‘å­¦å†è¦æ±‚å 75%ä»¥ä¸Šï¼Œç¡•å£«å­¦å†è¦æ±‚å 15%å·¦å³ã€‚ç»“åˆç»éªŒè¦æ±‚æ¥çœ‹ï¼Œå¤§éƒ¨åˆ†çš„å…¬å¸è¦æ±‚æ˜¯ç»éªŒä¸é™å’Œ1-5å¹´ï¼Œè¿™å‡ ä¸ªæ—¶é—´èŒƒå›´å äº†ä¸»è¦éƒ¨åˆ†ï¼Œæ‰€ä»¥ç»“åˆè¿™ä¸¤ä¸ªä¿¡æ¯ï¼Œè®¤ä¸ºâ€œè‡ªåŠ¨é©¾é©¶â€å²—ä½æ›´åŠ çœ‹é‡å·¥ä½œç»éªŒï¼Œåªè¦æœ‰æœ¬ç§‘çš„å­¦å†ï¼Œç»éªŒä¸°å¯Œèƒ½åŠ›å¼ºå°±å¯ä»¥æ‰¾åˆ°ä¸é”™çš„å·¥ä½œã€‚</p><p>ä»£ç å®ç°</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Page, Pie</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> pyecharts.render <span class="keyword">import</span> make_snapshot</span><br><span class="line"><span class="keyword">from</span> snapshot_selenium <span class="keyword">import</span> snapshot</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">edu_require</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">å­¦å†è¦æ±‚é¥¼å›¾</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">    datas = pd.read_excel(<span class="string">'jobData.xls'</span>, encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">    datas_copy = datas</span><br><span class="line">    datas_copy = datas_copy[~datas_copy[<span class="string">'å­¦å†è¦æ±‚'</span>].str.contains(<span class="string">'ä¸ªæœˆ'</span>)]   <span class="comment"># å»æ‰å®ä¹ å·¥ä½œ</span></span><br><span class="line">    grouped_eductaion = datas_copy.groupby(datas_copy[<span class="string">'å­¦å†è¦æ±‚'</span>]) <span class="comment"># æŒ‰å­¦å†åˆ†ç»„</span></span><br><span class="line">    grouped_eductaion_count = grouped_eductaion[<span class="string">'å­¦å†è¦æ±‚'</span>].agg([<span class="string">'count'</span>]) <span class="comment"># ç»Ÿè®¡ä¸åŒåˆ†ç»„çš„æ•°é‡</span></span><br><span class="line">    grouped_eductaion_count.reset_index(inplace = <span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># edu_data = [(grouped_eductaion_count['å­¦å†è¦æ±‚'][i], grouped_eductaion_count['count'][i]) for i in range(grouped_eductaion_count.shape[0])]</span></span><br><span class="line">    attr = []</span><br><span class="line">    value = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(grouped_eductaion_count.shape[<span class="number">0</span>]):</span><br><span class="line">        attr.append(grouped_eductaion_count[<span class="string">'å­¦å†è¦æ±‚'</span>][i])</span><br><span class="line">        value.append(str(grouped_eductaion_count[<span class="string">'count'</span>][i])) <span class="comment">#å°† int æ•°å­—è½¬åŒ–ä¸º stringæ‰èƒ½æ˜¾ç¤ºå›¾ç‰‡</span></span><br><span class="line">    pie = (</span><br><span class="line">        Pie()</span><br><span class="line">        .add(</span><br><span class="line">            <span class="string">""</span>,</span><br><span class="line">            [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(attr, value)],</span><br><span class="line">            radius=[<span class="string">"40%"</span>, <span class="string">"75%"</span>]</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=opts.TitleOpts(title=<span class="string">"å­¦å†è¦æ±‚"</span>),</span><br><span class="line">            legend_opts=opts.LegendOpts(</span><br><span class="line">                orient=<span class="string">"vertical"</span>, pos_top=<span class="string">"15%"</span>, pos_left=<span class="string">"2%"</span></span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">"{b}: {c}"</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> pie</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">exp_require</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">å·¥ä½œç»éªŒè¦æ±‚é¥¼å›¾</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">    datas = pd.read_excel(<span class="string">'jobData.xls'</span>, encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">    datas_copy = datas</span><br><span class="line">    datas_copy = datas_copy[~datas_copy[<span class="string">'å·¥ä½œç»éªŒè¦æ±‚'</span>].str.contains(<span class="string">'å¤©/å‘¨'</span>)]   <span class="comment"># å»æ‰å®ä¹ å·¥ä½œ</span></span><br><span class="line">    grouped_exp = datas_copy.groupby(datas_copy[<span class="string">'å·¥ä½œç»éªŒè¦æ±‚'</span>]) <span class="comment"># æŒ‰å·¥ä½œç»éªŒåˆ†ç»„</span></span><br><span class="line">    grouped_exp_count = grouped_exp[<span class="string">'å·¥ä½œç»éªŒè¦æ±‚'</span>].agg([<span class="string">'count'</span>]) <span class="comment"># ç»Ÿè®¡ä¸åŒåˆ†ç»„çš„æ•°é‡</span></span><br><span class="line">    grouped_exp_count.reset_index(inplace = <span class="literal">True</span>)</span><br><span class="line">    attr = []</span><br><span class="line">    value = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(grouped_exp_count.shape[<span class="number">0</span>]):</span><br><span class="line">        attr.append(grouped_exp_count[<span class="string">'å·¥ä½œç»éªŒè¦æ±‚'</span>][i])</span><br><span class="line">        value.append(str(grouped_exp_count[<span class="string">'count'</span>][i])) <span class="comment">#å°† int æ•°å­—è½¬åŒ–ä¸º stringæ‰èƒ½æ˜¾ç¤ºå›¾ç‰‡</span></span><br><span class="line">    pie = (</span><br><span class="line">        Pie()</span><br><span class="line">        .add(</span><br><span class="line">            <span class="string">""</span>,</span><br><span class="line">            [list(z) <span class="keyword">for</span> z <span class="keyword">in</span> zip(attr, value)],</span><br><span class="line">            radius=[<span class="string">"40%"</span>, <span class="string">"75%"</span>]</span><br><span class="line">        )</span><br><span class="line">        .set_global_opts(</span><br><span class="line">            title_opts=opts.TitleOpts(title=<span class="string">"å·¥ä½œç»éªŒè¦æ±‚"</span>),</span><br><span class="line">            legend_opts=opts.LegendOpts(</span><br><span class="line">                orient=<span class="string">"vertical"</span>, pos_top=<span class="string">"15%"</span>, pos_left=<span class="string">"2%"</span></span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        .set_series_opts(label_opts=opts.LabelOpts(formatter=<span class="string">"{b}: {c}"</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> pie</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">edu_pie = edu_require()</span><br><span class="line">edu_pie.render(<span class="string">"å­¦å†è¦æ±‚é¥¼å›¾.html"</span>)</span><br><span class="line">exp_pie = exp_require()</span><br><span class="line">exp_pie.render(<span class="string">"å·¥ä½œç»éªŒè¦æ±‚é¥¼å›¾.html"</span>)</span><br><span class="line"><span class="comment">#make_snapshot(snapshot, edu_pie.render(), "å­¦å†è¦æ±‚é¥¼å›¾.png") # ä½¿ç”¨æ­¤è¯­å¥å¯ç›´æ¥ç”Ÿæˆå›¾ç‰‡</span></span><br><span class="line"><span class="comment">#make_snapshot(snapshot, exp_pie.render(), "å·¥ä½œç»éªŒè¦æ±‚é¥¼å›¾.png") # ä½¿ç”¨æ­¤è¯­å¥å¯ç›´æ¥ç”Ÿæˆå›¾ç‰‡</span></span><br></pre></td></tr></tbody></table></figure><h3 id="2-4-å·¥ä½œç§ç±»ã€ä¸»è¦ä¼ä¸šã€è¡Œä¸šåˆ†å¸ƒ"><a href="#2-4-å·¥ä½œç§ç±»ã€ä¸»è¦ä¼ä¸šã€è¡Œä¸šåˆ†å¸ƒ" class="headerlink" title="2.4 å·¥ä½œç§ç±»ã€ä¸»è¦ä¼ä¸šã€è¡Œä¸šåˆ†å¸ƒ"></a>2.4 å·¥ä½œç§ç±»ã€ä¸»è¦ä¼ä¸šã€è¡Œä¸šåˆ†å¸ƒ</h3><p>â€ƒâ€ƒåˆ†æå®Œå­¦å†ä¸å·¥ä½œç»éªŒï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹è¿™äº›å·¥ä½œä¸»è¦åŒ…æ‹¬å“ªäº›ç§ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´â€œè‡ªåŠ¨é©¾é©¶â€çš„æ‹›è˜å²—ä½ä¸»è¦åŒ…æ‹¬å“ªäº›ï¼Œå¯ä»¥ä¸ºæ±‚èŒè€…æä¾›å­¦ä¹ çš„æ–¹å‘ã€‚ä¸ºäº†æ›´å¥½åœ°å±•ç¤ºæ•°æ®åˆ†æçš„æˆæœï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¼˜ç§€çš„å¼€æºåŒ…<span class="exturl" data-url="aHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L2ppZWJhLw==" title="https://pypi.org/project/jieba/">jieba<i class="fa fa-external-link"></i></span>ä»¥åŠå¼ºå¤§ã€æ–¹ä¾¿çš„å¯è§†åŒ–å·¥å…·<span class="exturl" data-url="aHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L3B5ZWNoYXJ0cy8=" title="https://pypi.org/project/pyecharts/">pyecharts<i class="fa fa-external-link"></i></span>å±•ç¤ºï¼Œæ ¹æ®â€œå·¥ä½œåâ€è¿™ä¸€é¡¹æ•°æ®é¡¹å…ˆè¿›è¡Œåˆ†è¯ï¼Œç„¶åç»˜åˆ¶äº†è¯äº‘å¦‚å›¾2-6æ‰€ç¤ºã€‚</p><img title="å›¾2-6  â€œè‡ªåŠ¨é©¾é©¶â€ä¸»è¦å²—ä½ç§ç±»åˆ†æ" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-6%20%20â€œè‡ªåŠ¨é©¾é©¶â€ä¸»è¦å²—ä½ç§ç±»åˆ†æ.png"><center>å›¾2-6  â€œè‡ªåŠ¨é©¾é©¶â€ä¸»è¦å²—ä½ç§ç±»åˆ†æ</center><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Page, WordCloud</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> SymbolType</span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job_title</span><span class="params">()</span>:</span></span><br><span class="line">    datas = pd.read_excel(<span class="string">'jobData.xls'</span>, encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">    datas_copy = datas</span><br><span class="line">    text = <span class="string">''</span>.join(datas_copy[<span class="string">'å²—ä½'</span>])</span><br><span class="line">    requirements = [word <span class="keyword">for</span> word <span class="keyword">in</span> jieba.cut(text, cut_all=<span class="literal">True</span>)] <span class="comment"># å…¨æ¨¡å¼åˆ†è¯</span></span><br><span class="line">    requirements_top = Counter(requirements)  <span class="comment"># Counter()å‡½æ•°å¯¹strè¿›è¡Œç»Ÿè®¡</span></span><br><span class="line">    requirements_top50 = requirements_top.most_common(<span class="number">50</span>)    <span class="comment"># ç»Ÿè®¡æœ€å¤šçš„50ä¸ª ï¼Œmost_commonè¿”å›(string , count)çš„æ•°æ®å½¢å¼</span></span><br><span class="line">    c = (</span><br><span class="line">        WordCloud()</span><br><span class="line">        .add(<span class="string">""</span>, requirements_top50, word_size_range=[<span class="number">20</span>, <span class="number">100</span>], shape=SymbolType.DIAMOND)</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">"ä¸»è¦å²—ä½åç§°"</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">job_title = job_title()</span><br><span class="line">job_title.render(<span class="string">"ä¸»è¦å²—ä½åç§°.html"</span>)</span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œ<code>ç®—æ³•</code>ã€<code>è§„åˆ’</code>ã€<code>æ„ŸçŸ¥</code>ã€<code>æ§åˆ¶</code>ã€<code>åµŒå…¥å¼</code>ç­‰å…³é”®è¯é¢‘ç‡è¾ƒé«˜ï¼Œæ‰€ä»¥æƒ³è¦ä»äº‹è¿™ä¸€é¢†åŸŸçš„å·¥ä½œï¼Œå¯ä»¥å¤šå¤šå…³æ³¨å’Œå­¦ä¹ è¿™äº›é¢†åŸŸçš„çŸ¥è¯†ã€‚ä¸ºä»¥åçš„æ±‚èŒåšå¥½å‡†å¤‡ï¼Œæ‰“ä¸‹åŸºç¡€ã€‚<br>â€ƒâ€ƒé‚£ä¹ˆå“ªäº›å…¬å¸æ˜¯æ‹›è˜çš„å¤§æˆ·å‘¢ï¼Ÿå³æ‹›è˜å²—ä½æ•°é‡è¾ƒå¤šçš„ä¼ä¸šæœ‰å“ªäº›ï¼Ÿæˆ‘ä»¬ä½¿ç”¨åŒæ ·çš„æ–¹æ³•ç»˜åˆ¶äº†åŸºäºä¼ä¸šæ‹›è˜æ•°é‡çš„è¯äº‘å¦‚å›¾2-7æ‰€ç¤ºã€‚</p><img title="å›¾2-7  â€œè‡ªåŠ¨é©¾é©¶â€ä¸»è¦æ‹›è˜ä¼ä¸š" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-7%20%20â€œè‡ªåŠ¨é©¾é©¶â€ä¸»è¦æ‹›è˜ä¼ä¸š.png"><center>å›¾2-7  â€œè‡ªåŠ¨é©¾é©¶â€ä¸»è¦æ‹›è˜ä¼ä¸š</center><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Page, WordCloud</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> SymbolType</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">company_count</span><span class="params">()</span>:</span></span><br><span class="line">    datas = pd.read_excel(<span class="string">'jobData.xls'</span>, encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">    datas_copy = datas</span><br><span class="line">    grouped_company = datas_copy.groupby(datas_copy[<span class="string">'æ‹›è˜å…¬å¸'</span>]) <span class="comment"># æŒ‰æ‹›è˜å…¬å¸åˆ†ç»„</span></span><br><span class="line">    grouped_company_count = grouped_company[<span class="string">'æ‹›è˜å…¬å¸'</span>].agg([<span class="string">'count'</span>]) <span class="comment"># ç»Ÿè®¡ä¸åŒåˆ†ç»„çš„æ•°é‡</span></span><br><span class="line">    grouped_company_count.reset_index(inplace = <span class="literal">True</span>)</span><br><span class="line">    company_data = [(grouped_company_count[<span class="string">'æ‹›è˜å…¬å¸'</span>][i],str(grouped_company_count[<span class="string">'count'</span>][i])) \</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(grouped_company_count.shape[<span class="number">0</span>])]</span><br><span class="line">    <span class="comment"># æ˜¯å¦è¦å°†æ•°å­—è½¬åŒ–ä¸ºstr</span></span><br><span class="line"></span><br><span class="line">    c = (</span><br><span class="line">        WordCloud()</span><br><span class="line">        .add(<span class="string">""</span>, company_data, word_size_range=[<span class="number">20</span>, <span class="number">100</span>], shape=SymbolType.DIAMOND)</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">"ä¸»è¦çš„æ‹›è˜å…¬å¸"</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">company_count = company_count()</span><br><span class="line">company_count.render(<span class="string">"ä¸»è¦çš„æ‹›è˜å…¬å¸.html"</span>)</span><br><span class="line"><span class="comment">#make_snapshot(snapshot, company_count.render(), "ä¸»è¦çš„æ‹›è˜å…¬å¸.png") # ä½¿ç”¨æ­¤è¯­å¥å¯ç›´æ¥ç”Ÿæˆå›¾ç‰‡</span></span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒå¯ä»¥çœ‹å‡ºï¼Œæ‹›è˜æ•°é‡æ’åœ¨å‰å‡ ä½çš„åˆ†åˆ«æœ‰ç¦¾å¤šç§‘æŠ€ã€<span class="exturl" data-url="aHR0cHM6Ly93d3cuZGVlcGJsdWVhaS5jb20=" title="https://www.deepblueai.com">æ·±å…°ç§‘æŠ€<i class="fa fa-external-link"></i></span>ã€<span class="exturl" data-url="aHR0cHM6Ly93d3cuY3Rpcm9ib3QuY29t" title="https://www.ctirobot.com">åå¾·æ‹‰<i class="fa fa-external-link"></i></span>ã€<span class="exturl" data-url="aHR0cDovL3d3dy41MWhpdGVjaC5jb20=" title="http://www.51hitech.com">51VR<i class="fa fa-external-link"></i></span>ã€<span class="exturl" data-url="aHR0cDovL3d3dy5rb3RlaS5jb20uY24=" title="http://www.kotei.com.cn">æ­¦æ±‰å…‰åº­ç§‘æŠ€<i class="fa fa-external-link"></i></span>ã€<span class="exturl" data-url="aHR0cDovL3d3dy55aWhhbmcuYWk=" title="http://www.yihang.ai">æ˜“èˆª<i class="fa fa-external-link"></i></span>ç­‰å…¬å¸ï¼Œäº’è”ç½‘å¤§å‚è…¾è®¯ã€åä¸ºï¼Œä¼ ç»Ÿè½¦å‚å‰åˆ©é›†å›¢ç´§éšå…¶åï¼Œè¿˜æœ‰å¾ˆå¤šå¹´è½»çš„ä¼ä¸šä¹Ÿæœ‰ä¸Šæ¦œã€‚</p><p>â€ƒâ€ƒè¿™äº›å²—ä½æ‰€å±çš„è¡Œä¸šåˆæœ‰å“ªäº›å‘¢ï¼Ÿæˆ‘ä»¬ä½¿ç”¨åŒæ ·çš„æ–¹æ³•ç»Ÿè®¡å¦‚å›¾2-8æ‰€ç¤ºã€‚</p><img title="å›¾2-8  è‡ªåŠ¨é©¾é©¶æ‹›è˜è¡Œä¸šåˆ†å¸ƒ" data-src="/2019/10/17/BOSSç›´è˜çˆ¬è™«/å›¾2-8%20%20è‡ªåŠ¨é©¾é©¶æ‹›è˜è¡Œä¸šåˆ†å¸ƒ.png"><center>å›¾2-8  è‡ªåŠ¨é©¾é©¶æ‹›è˜è¡Œä¸šåˆ†å¸ƒ</center><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Page, WordCloud</span><br><span class="line"><span class="keyword">from</span> pyecharts.globals <span class="keyword">import</span> SymbolType</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">industry</span><span class="params">()</span>:</span></span><br><span class="line">    datas = pd.read_excel(<span class="string">'jobData.xls'</span>, encoding = <span class="string">'utf-8'</span>)</span><br><span class="line">    datas_copy = datas</span><br><span class="line">    grouped_industry = datas_copy.groupby(datas_copy[<span class="string">'æ‰€å±è¡Œä¸š'</span>]) <span class="comment"># æŒ‰æ‰€å±è¡Œä¸šåˆ†ç»„</span></span><br><span class="line">    grouped_industry_count = grouped_industry[<span class="string">'æ‰€å±è¡Œä¸š'</span>].agg([<span class="string">'count'</span>]) <span class="comment"># ç»Ÿè®¡ä¸åŒåˆ†ç»„çš„æ•°é‡</span></span><br><span class="line">    grouped_industry_count.reset_index(inplace = <span class="literal">True</span>)</span><br><span class="line">    industry_data = [(grouped_industry_count[<span class="string">'æ‰€å±è¡Œä¸š'</span>][i],str(grouped_industry_count[<span class="string">'count'</span>][i])) \</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(grouped_industry_count.shape[<span class="number">0</span>])]</span><br><span class="line">    c = (</span><br><span class="line">        WordCloud()</span><br><span class="line">        .add(<span class="string">""</span>, industry_data, word_size_range=[<span class="number">20</span>, <span class="number">100</span>], shape=SymbolType.DIAMOND)</span><br><span class="line">        .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">"è‡ªåŠ¨é©¾é©¶å²—ä½è¡Œä¸šåˆ†å¸ƒ"</span>))</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line"></span><br><span class="line">industry_distribution = industry()</span><br><span class="line">industry_distribution.render(<span class="string">"è‡ªåŠ¨é©¾é©¶å²—ä½è¡Œä¸šåˆ†å¸ƒ.html"</span>)</span><br><span class="line"><span class="comment">#make_snapshot(snapshot, industry_distribution.render(), "è‡ªåŠ¨é©¾é©¶å²—ä½è¡Œä¸šåˆ†å¸ƒ.png") # ä½¿ç”¨æ­¤è¯­å¥å¯ç›´æ¥ç”Ÿæˆå›¾ç‰‡</span></span><br></pre></td></tr></tbody></table></figure><p>â€ƒâ€ƒä»å›¾ä¸­å¯ä»¥çœ‹å‡ºç°åœ¨â€œè‡ªåŠ¨é©¾é©¶â€çš„ä¼ä¸šæ‰€ç¤ºè¡Œä¸šå¤šä¸ºâ€œè®¡ç®—æœºäº’è”ç½‘â€ã€â€œæ™ºèƒ½ç¡¬ä»¶â€ä»¥åŠâ€œæ±½è½¦ç”Ÿäº§â€è¡Œä¸šï¼Œè¿™ä¸‰ç±»è¡Œä¸šæ˜¯æ‹›è˜çš„ä¸»åŠ›å†›ã€‚</p><h2 id="ä¸‰ã€æ€»ç»“ä¸è®¨è®º"><a href="#ä¸‰ã€æ€»ç»“ä¸è®¨è®º" class="headerlink" title="ä¸‰ã€æ€»ç»“ä¸è®¨è®º"></a>ä¸‰ã€æ€»ç»“ä¸è®¨è®º</h2><h3 id="3-1-æ€»ç»“"><a href="#3-1-æ€»ç»“" class="headerlink" title="3.1 æ€»ç»“"></a>3.1 æ€»ç»“</h3><p>ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œæ€»ç»“ï¼Œ</p><ul><li><p>é¦–å…ˆæ˜¯å†…å®¹ä¸Šï¼šä»æ•°æ®çš„åˆ†æä¸­å¯¹äº<strong>è‡ªåŠ¨é©¾é©¶</strong>å²—ä½çš„æ‹›è˜éœ€æ±‚æœ‰äº†è¿›ä¸€æ­¥çš„è®¤è¯†ï¼Œè‡ªåŠ¨é©¾é©¶ç›¸å…³å²—ä½ä¸»è¦çš„å·¥ä½œå†…å®¹æœ‰<strong>ç®—æ³•ã€è§„åˆ’ã€æ„ŸçŸ¥ã€æ§åˆ¶ã€åµŒå…¥å¼</strong>ï¼ŒåŒ—äº¬ã€æ±Ÿæµ™æ²ªï¼ˆåŒ…é‚®åŒºï¼‰å’Œæ·±åœ³æ˜¯ä¸»è¦çš„å·¥ä½œåœ°ç‚¹ï¼Œå…¨å›½èŒƒå›´å†…çš„å¹³å‡è–ªèµ„ä¸º18422å…ƒ/æœˆï¼Œè‡ªåŠ¨é©¾é©¶å²—ä½æ›´åŠ çœ‹é‡å·¥ä½œç»éªŒã€å­¦å†å¤šæ•°è¦æ±‚ä¸ºæœ¬ç§‘ï¼Œæ‰€åœ¨è¡Œä¸šä¸€èˆ¬ä¸º<strong>è®¡ç®—æœºäº’è”ç½‘ã€æ™ºèƒ½ç¡¬ä»¶ä»¥åŠæ±½è½¦ç”Ÿäº§</strong>ï¼Œæ‹›è˜éœ€æ±‚è¾ƒå¤šçš„ä¼ä¸šæœ‰ç¦¾å¤šç§‘æŠ€ã€æ·±å…°ç§‘æŠ€ã€åå¾·æ‹‰ã€51VRã€æ­¦æ±‰å…‰åº­ç§‘æŠ€ã€æ˜“èˆªç­‰å…¬å¸ã€‚</p></li><li><p>å…¶æ¬¡æ˜¯æŠ€æœ¯ä¸Šæ€»ç»“ï¼š<br>åœ¨æ•°æ®è·å–ä¸­å­¦ä¼šä½¿ç”¨å¼€å‘è€…å·¥å…·å‘ç°ç½‘é¡µè§„å¾‹ï¼›åœ¨æ•°æ®è§£æä¸­å­¦ä¼šä½¿ç”¨<code>xpath</code>ã€<code>beautifulSoup</code>ï¼›æ•°æ®åˆ†æä¸­å­¦ä¼šä½¿ç”¨<code>pyecharts</code>ç»˜åˆ¶å¤šç§æœ‰è¶£çš„å¯è§†åŒ–å›¾ç‰‡ï¼Œå­¦ä¼šä½¿ç”¨<code>jieba</code>åŒ…ç»Ÿè®¡è¯é¢‘ã€‚</p></li></ul><h3 id="3-2-é‡åˆ°çš„é—®é¢˜"><a href="#3-2-é‡åˆ°çš„é—®é¢˜" class="headerlink" title="3.2 é‡åˆ°çš„é—®é¢˜"></a>3.2 é‡åˆ°çš„é—®é¢˜</h3><p>â€ƒâ€ƒæœ¬æ–‡ä¸€å¼€å§‹æƒ³è¦è·å–æ›´è¯¦ç»†çš„<code>å·¥ä½œèŒè´£</code>å’Œ<code>å·¥ä½œæŠ€èƒ½è¦æ±‚</code>çš„æ•°æ®ï¼Œåœ¨çˆ¬å–è¯¦æƒ…é¡µçš„è¿‡ç¨‹ä¸­å‘ç°BOSSç›´è˜åœ¨è¯·æ±‚è¯¦æƒ…é¡µæ—¶æ¯æ¬¡çš„è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸åŒçš„<code>cookie</code>ï¼Œå¦åˆ™æ— æ³•è·å–æƒ³è¦çš„htmlï¼Œä¼šè·³è½¬åˆ°å…¶ä»–é¡µé¢ï¼Œç»è¿‡googleæŸ¥è¯¢å·²ç»æœ‰å‰è¾ˆå‘ç°äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿˜æœªæ‰¾åˆ°è§£å†³çš„ååçˆ¬æ–¹æ³•ï¼ˆé­”é«˜ä¸€å°ºé“é«˜ä¸€ä¸ˆï¼‰ã€‚æ‰€ä»¥æ”¹ä¸ºçˆ¬å–è¾ƒä¸ºå®¹æ˜“è·å–çš„è¯¦æƒ…é¡µé¢ã€‚</p><h3 id="3-3-ä¸è¶³ä¹‹å¤„"><a href="#3-3-ä¸è¶³ä¹‹å¤„" class="headerlink" title="3.3 ä¸è¶³ä¹‹å¤„"></a>3.3 ä¸è¶³ä¹‹å¤„</h3><p>â€ƒâ€ƒæœ¬æ–‡ä»…ä»…åˆ†æäº†BOSSç›´è˜ä¸€å®¶çš„æ•°æ®ï¼Œæ•°æ®æ¥æºä¸å®é™…æƒ…å†µæœ‰ä¸€å®šçš„å·®åˆ«ï¼Œä½†æ˜¯èƒ½ä½“ç°ä¸€å®šçš„ä»£è¡¨æ€§ï¼Œæœªæ¥å¯ä»¥è¿›è¡Œå¤šå®¶æ‹›è˜ç½‘ç«™ï¼ˆå¦‚<strong>æ™ºè”æ‹›è˜ã€51jobæ‹›è˜ï¼Œå‰ç¨‹æ— å¿§</strong>ç­‰ï¼‰çš„æ•°æ®çˆ¬å–ï¼Œæé«˜æ•°æ®çš„å¯ä¿¡åº¦ã€‚</p><h3 id="3-4-æœªæ¥å·¥ä½œ"><a href="#3-4-æœªæ¥å·¥ä½œ" class="headerlink" title="3.4 æœªæ¥å·¥ä½œ"></a>3.4 æœªæ¥å·¥ä½œ</h3><p>â€ƒâ€ƒç›®å‰å·²ç»å®Œæˆæ•°æ®çš„<code>è·å–ã€åˆ†æã€ç»Ÿè®¡ã€å¯è§†åŒ–</code>ï¼Œæœªæ¥è¿˜å¯ä»¥å¯¹æ•°æ®ä¹‹é—´çš„<code>ç›¸å…³æ€§</code>è¿›è¡Œ<code>å»ºæ¨¡åˆ†æ</code>ï¼Œå¾—å‡ºæœ‰æ„æ€ã€æœ‰ä»·å€¼çš„ç»“è®ºã€‚ï¼ˆä¾‹å¦‚ï¼Œå“ªäº›æ•°æ®å¯¹è–ªèµ„æœ‰å½±å“ï¼Ÿï¼‰</p><h3 id="è‡´è°¢"><a href="#è‡´è°¢" class="headerlink" title="è‡´è°¢"></a>è‡´è°¢</h3><p>â€ƒâ€ƒ<em>æœ¬æ–‡çš„ä¸»è¦æ–¹æ³•ä¸æŠ€æœ¯ä»£ç å‚è€ƒäº†ç½‘ç»œä¸Šçš„åšå®¢ï¼Œåœ¨æ­¤ä¸€å¹¶è‡´è°¢ï¼</em></p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p>[1]    LI D, MEI H, YI S, et al. ECharts: A declarative framework for rapid construction of web-based visualization â˜† [J]. Visual Informatics, 2018, S2468502X18300068-.</p><p>[2] <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMjkzNzU4L2FydGljbGUvZGV0YWlscy84ODU3MzM2MA==" title="https://blog.csdn.net/qq_42293758/article/details/88573360">Pythonçˆ¬å–å²—ä½æ•°æ®å¹¶åˆ†æ<i class="fa fa-external-link"></i></span></p><p>[3] <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzkzMDY5NC9hcnRpY2xlL2RldGFpbHMvOTY2NTAyODE=" title="https://blog.csdn.net/weixin_43930694/article/details/96650281">Python3 + xpath + excel å®ç°å¯¹bossç›´è˜ç½‘çš„çˆ¬å–<i class="fa fa-external-link"></i></span></p><p>[4] <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3NjY4MzEzL2FydGljbGUvZGV0YWlscy84MjkyNDYyMg==" title="https://blog.csdn.net/qq_27668313/article/details/82924622">BOSSç›´è˜ç½‘ç«™æ•°æ®åˆ†æå²—ä½ä¿¡æ¯çˆ¬å–<i class="fa fa-external-link"></i></span></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;â€ƒâ€ƒè¿™æ˜¯æˆ‘ä¸ªäººåšå®¢çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯å…¨æ–°çš„å¼€å§‹ã€‚å¸Œæœ›æœªæ¥åœ¨è¿™é‡Œè®°å½•æ›´å¤šæœ‰è¶£çš„æ¢ç´¢ã€‚&lt;/p&gt;
&lt;img title=&quot;è‡ªåŠ¨é©¾é©¶å²—ä½åç§°&quot; data-src=&quot;/2019/10/17/BOSSç›´è˜çˆ¬è™«/å²—ä½åç§°.jpg&quot;&gt;
&lt;p&gt;â€ƒâ€ƒè‡ªåŠ¨é©¾é©¶éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„æˆç†Ÿï¼Œäººæ‰éœ€æ±‚åœ¨ä¸æ–­å¢åŠ ï¼Œä¸ºäº†å¯¹æˆ‘å›½è‡ªåŠ¨é©¾é©¶äººæ‰éœ€æ±‚è¿›è¡Œäº†è§£ï¼Œæœ¬æ–‡é€‰æ‹©&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly93d3cuemhpcGluLmNvbQ==&quot; title=&quot;https://www.zhipin.com&quot;&gt;BOSSç›´è˜&lt;i class=&quot;fa fa-external-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;æ‹›è˜ç½‘ç«™è·å–è‡ªåŠ¨é©¾é©¶ç›¸å…³èŒä½ä¿¡æ¯ï¼Œåˆ†ææ•°æ®ï¼Œæ ¹æ®åˆ†æç»“æœç¡®å®šäººæ‰éœ€æ±‚ã€ä¸ºä»¥åçš„å­¦ä¹ åˆ¶å®šè®¡åˆ’ã€‚&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="2019ç§‹ã€Šäº¤é€šæ•°æ®åˆ†æã€‹" scheme="http://www.caoxu.club/categories/2019%E7%A7%8B%E3%80%8A%E4%BA%A4%E9%80%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%8B/"/>
    
      <category term="æ•°æ®çˆ¬å–" scheme="http://www.caoxu.club/categories/2019%E7%A7%8B%E3%80%8A%E4%BA%A4%E9%80%9A%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%8B/%E6%95%B0%E6%8D%AE%E7%88%AC%E5%8F%96/"/>
    
    
      <category term="python" scheme="http://www.caoxu.club/tags/python/"/>
    
      <category term="çˆ¬è™«" scheme="http://www.caoxu.club/tags/%E7%88%AC%E8%99%AB/"/>
    
      <category term="å·¥ä½œä¿¡æ¯" scheme="http://www.caoxu.club/tags/%E5%B7%A5%E4%BD%9C%E4%BF%A1%E6%81%AF/"/>
    
      <category term="å¯è§†åŒ–" scheme="http://www.caoxu.club/tags/%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    
      <category term="pyecharts" scheme="http://www.caoxu.club/tags/pyecharts/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://www.caoxu.club/2019/10/12/hello-world/"/>
    <id>http://www.caoxu.club/2019/10/12/hello-world/</id>
    <published>2019-10-12T13:25:37.410Z</published>
    <updated>2019-10-14T16:39:38.421Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvLw==" title="https://hexo.io/">Hexo<i class="fa fa-external-link"></i></span>! This is your very first post. Check <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv" title="https://hexo.io/docs/">documentation<i class="fa fa-external-link"></i></span> for more info. If you get any problems when using Hexo, you can find the answer in <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=" title="https://hexo.io/docs/troubleshooting.html">troubleshooting<i class="fa fa-external-link"></i></span> or you can ask me on <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==" title="https://github.com/hexojs/hexo/issues">GitHub<i class="fa fa-external-link"></i></span>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></tbody></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s" title="https://hexo.io/docs/writing.html">Writing<i class="fa fa-external-link"></i></span></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=" title="https://hexo.io/docs/server.html">Server<i class="fa fa-external-link"></i></span></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s" title="https://hexo.io/docs/generating.html">Generating<i class="fa fa-external-link"></i></span></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZGVwbG95bWVudC5odG1s" title="https://hexo.io/docs/deployment.html">Deployment<i class="fa fa-external-link"></i></span></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9oZXhvLmlvLw==&quot; title=&quot;https://hexo.io/&quot;&gt;Hexo&lt;i class=&quot;fa fa-external-link&quot;&gt;&lt;/i&gt;&lt;/spa
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
